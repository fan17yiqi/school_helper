{"version":3,"file":"js/app.66273d50.js","mappings":"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","sources":["webpack://secondhand-frontend/./src/App.vue?3f73","webpack://secondhand-frontend/src/App.vue","webpack://secondhand-frontend/./src/App.vue?6a4a","webpack://secondhand-frontend/./src/App.vue","webpack://secondhand-frontend/./src/views/Home.vue?99d5","webpack://secondhand-frontend/./src/components/Layout.vue?d398","webpack://secondhand-frontend/src/components/Layout.vue","webpack://secondhand-frontend/./src/components/Layout.vue?cd36","webpack://secondhand-frontend/./src/components/Layout.vue","webpack://secondhand-frontend/src/views/Home.vue","webpack://secondhand-frontend/./src/views/Home.vue?2968","webpack://secondhand-frontend/./src/views/Home.vue","webpack://secondhand-frontend/./src/views/Login.vue?f27a","webpack://secondhand-frontend/src/views/Login.vue","webpack://secondhand-frontend/./src/views/Login.vue?e4fe","webpack://secondhand-frontend/./src/views/Login.vue","webpack://secondhand-frontend/./src/views/Register.vue?3b9f","webpack://secondhand-frontend/src/views/Register.vue","webpack://secondhand-frontend/./src/views/Register.vue?7511","webpack://secondhand-frontend/./src/views/Register.vue","webpack://secondhand-frontend/./src/views/ProductList.vue?8562","webpack://secondhand-frontend/src/views/ProductList.vue","webpack://secondhand-frontend/./src/views/ProductList.vue?e641","webpack://secondhand-frontend/./src/views/ProductList.vue","webpack://secondhand-frontend/./src/views/ProductDetail.vue?48e2","webpack://secondhand-frontend/src/views/ProductDetail.vue","webpack://secondhand-frontend/./src/views/ProductDetail.vue?bef2","webpack://secondhand-frontend/./src/views/ProductDetail.vue","webpack://secondhand-frontend/./src/views/ProductPublish.vue?c86d","webpack://secondhand-frontend/./src/components/MapPicker.vue?262c","webpack://secondhand-frontend/src/components/MapPicker.vue","webpack://secondhand-frontend/./src/components/MapPicker.vue?ae77","webpack://secondhand-frontend/./src/components/MapPicker.vue","webpack://secondhand-frontend/src/views/ProductPublish.vue","webpack://secondhand-frontend/./src/views/ProductPublish.vue?3dd9","webpack://secondhand-frontend/./src/views/ProductPublish.vue","webpack://secondhand-frontend/./src/views/HelpList.vue?06d3","webpack://secondhand-frontend/src/views/HelpList.vue","webpack://secondhand-frontend/./src/views/HelpList.vue?fba4","webpack://secondhand-frontend/./src/views/HelpList.vue","webpack://secondhand-frontend/./src/views/HelpPublish.vue?a247","webpack://secondhand-frontend/src/views/HelpPublish.vue","webpack://secondhand-frontend/./src/views/HelpPublish.vue?86e6","webpack://secondhand-frontend/./src/views/HelpPublish.vue","webpack://secondhand-frontend/./src/views/Chat.vue?a7d6","webpack://secondhand-frontend/src/views/Chat.vue","webpack://secondhand-frontend/./src/views/Chat.vue?d11b","webpack://secondhand-frontend/./src/views/Chat.vue","webpack://secondhand-frontend/./src/views/ChatList.vue?194a","webpack://secondhand-frontend/src/views/ChatList.vue","webpack://secondhand-frontend/./src/views/ChatList.vue?5914","webpack://secondhand-frontend/./src/views/ChatList.vue","webpack://secondhand-frontend/./src/views/UserCenter.vue?c8c3","webpack://secondhand-frontend/src/views/UserCenter.vue","webpack://secondhand-frontend/./src/views/UserCenter.vue?fed8","webpack://secondhand-frontend/./src/views/UserCenter.vue","webpack://secondhand-frontend/./src/router/index.js","webpack://secondhand-frontend/./src/main.js","webpack://secondhand-frontend/webpack/bootstrap","webpack://secondhand-frontend/webpack/runtime/amd options","webpack://secondhand-frontend/webpack/runtime/chunk loaded","webpack://secondhand-frontend/webpack/runtime/compat get default export","webpack://secondhand-frontend/webpack/runtime/define property getters","webpack://secondhand-frontend/webpack/runtime/global","webpack://secondhand-frontend/webpack/runtime/hasOwnProperty shorthand","webpack://secondhand-frontend/webpack/runtime/make namespace object","webpack://secondhand-frontend/webpack/runtime/node module decorator","webpack://secondhand-frontend/webpack/runtime/jsonp chunk loading","webpack://secondhand-frontend/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"app\">\r\n    <router-view/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'App'\r\n}\r\n</script>\r\n\r\n<style>\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\nbody {\r\n  font-family: 'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '', Arial, sans-serif;\r\n}\r\n\r\n#app {\r\n  min-height: 100vh;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=1d27024a\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=1d27024a&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Layout',[_c('div',{staticClass:\"home-page\"},[_c('div',{staticClass:\"filter-banner\"},[_c('div',{staticClass:\"filter-container\"},[_c('div',{staticClass:\"filter-section\"},[_c('div',{staticClass:\"filter-title\"},[_c('i',{staticClass:\"el-icon-menu\"}),_c('span',[_vm._v(\"\")])]),_c('el-radio-group',{staticClass:\"category-buttons\",attrs:{\"size\":\"medium\"},on:{\"change\":_vm.loadProducts},model:{value:(_vm.selectedCategory),callback:function ($$v) {_vm.selectedCategory=$$v},expression:\"selectedCategory\"}},[_c('el-radio-button',{attrs:{\"label\":\"\"}},[_c('i',{staticClass:\"el-icon-s-grid\"}),_vm._v(\"  \")]),_c('el-radio-button',{attrs:{\"label\":\"\"}},[_c('i',{staticClass:\"el-icon-reading\"}),_vm._v(\"  \")]),_c('el-radio-button',{attrs:{\"label\":\"\"}},[_c('i',{staticClass:\"el-icon-shopping-bag-1\"}),_vm._v(\"  \")]),_c('el-radio-button',{attrs:{\"label\":\"\"}},[_c('i',{staticClass:\"el-icon-document\"}),_vm._v(\"  \")])],1)],1),(_vm.user)?_c('div',{staticClass:\"publish-section\"},[_c('el-button',{staticClass:\"publish-btn\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\",\"size\":\"medium\"},on:{\"click\":function($event){return _vm.$router.push('/product/publish')}}},[_vm._v(\"  \")])],1):_vm._e()])]),_c('div',{staticClass:\"products-grid\"},_vm._l((_vm.products),function(product){return _c('el-card',{key:product.id,staticClass:\"product-card\",attrs:{\"shadow\":\"hover\"},nativeOn:{\"click\":function($event){return _vm.$router.push(`/product/${product.id}`)}}},[_c('div',{staticClass:\"product-image\"},[(_vm.getFirstImage(product.images))?_c('img',{attrs:{\"src\":_vm.getFirstImage(product.images),\"alt\":\"\"}}):_c('div',{staticClass:\"no-image\"},[_c('i',{staticClass:\"el-icon-picture\"}),_c('p',[_vm._v(\"\")])])]),_c('div',{staticClass:\"product-info\"},[_c('h3',{staticClass:\"product-title\"},[_vm._v(_vm._s(product.title))]),_c('div',{staticClass:\"product-price\"},[_vm._v(\"\"+_vm._s(product.price))]),_c('div',{staticClass:\"product-meta\"},[_c('el-tag',{attrs:{\"size\":\"mini\",\"type\":\"info\"}},[_vm._v(_vm._s(product.category))]),_c('el-tag',{attrs:{\"size\":\"mini\",\"type\":product.tradeType === '' ? 'success' : 'warning'}},[_vm._v(\" \"+_vm._s(product.tradeType)+\" \")])],1)])])}),1),(_vm.products.length === 0)?_c('el-empty',{attrs:{\"description\":\"\"}}):_vm._e()],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"layout-container\"},[_c('el-header',{staticClass:\"main-header\"},[_c('div',{staticClass:\"header-content\"},[_c('div',{staticClass:\"logo-section\",on:{\"click\":function($event){return _vm.$router.push('/')}}},[_c('img',{staticClass:\"logo-img\",attrs:{\"src\":_vm.logoUrl,\"alt\":\"\"},on:{\"error\":_vm.handleImageError}}),_c('span',{staticClass:\"site-title\"},[_vm._v(\"\")])]),_c('div',{staticClass:\"nav-section\"},[_c('el-menu',{staticClass:\"main-menu\",attrs:{\"default-active\":_vm.activeMenu,\"mode\":\"horizontal\"},on:{\"select\":_vm.handleMenuSelect}},[_c('el-menu-item',{attrs:{\"index\":\"products\"}},[_vm._v(\"\")]),_c('el-menu-item',{attrs:{\"index\":\"helps\"}},[_vm._v(\"\")]),(_vm.user)?_c('el-menu-item',{attrs:{\"index\":\"publish\"}},[_vm._v(\"\")]):_vm._e(),(_vm.user)?_c('el-menu-item',{attrs:{\"index\":\"chats\"}},[_vm._v(\"\")]):_vm._e()],1)],1),_c('div',{staticClass:\"user-section\"},[(!_vm.user)?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.$router.push('/login')}}},[_vm._v(\"\")]):_vm._e(),(!_vm.user)?_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.$router.push('/register')}}},[_vm._v(\"\")]):_vm._e(),(_vm.user)?_c('el-dropdown',{attrs:{\"trigger\":\"click\"},on:{\"command\":_vm.handleCommand}},[_c('span',{staticClass:\"user-info\"},[_c('i',{staticClass:\"el-icon-user\"}),_vm._v(\" \"+_vm._s(_vm.user.realName)+\" \"),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"center\"}},[_vm._v(\"\")]),_c('el-dropdown-item',{attrs:{\"command\":\"my-products\"}},[_vm._v(\"\")]),_c('el-dropdown-item',{attrs:{\"command\":\"my-helps\"}},[_vm._v(\"\")]),_c('el-dropdown-item',{attrs:{\"divided\":\"\",\"command\":\"logout\"}},[_vm._v(\"\")])],1)],1):_vm._e()],1)])]),_c('el-main',{staticClass:\"main-content\"},[_vm._t(\"default\")],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"layout-container\">\r\n    <el-header class=\"main-header\">\r\n      <div class=\"header-content\">\r\n        <div class=\"logo-section\" @click=\"$router.push('/')\">\r\n          <img :src=\"logoUrl\" alt=\"\" class=\"logo-img\" @error=\"handleImageError\">\r\n          <span class=\"site-title\"></span>\r\n        </div>\r\n        <div class=\"nav-section\">\r\n          <el-menu\r\n            :default-active=\"activeMenu\"\r\n            mode=\"horizontal\"\r\n            @select=\"handleMenuSelect\"\r\n            class=\"main-menu\">\r\n            <el-menu-item index=\"products\"></el-menu-item>\r\n            <el-menu-item index=\"helps\"></el-menu-item>\r\n            <el-menu-item index=\"publish\" v-if=\"user\"></el-menu-item>\r\n            <el-menu-item index=\"chats\" v-if=\"user\"></el-menu-item>\r\n          </el-menu>\r\n        </div>\r\n        <div class=\"user-section\">\r\n          <el-button v-if=\"!user\" @click=\"$router.push('/login')\" type=\"primary\" size=\"small\"></el-button>\r\n          <el-button v-if=\"!user\" @click=\"$router.push('/register')\" size=\"small\"></el-button>\r\n          <el-dropdown v-if=\"user\" @command=\"handleCommand\" trigger=\"click\">\r\n            <span class=\"user-info\">\r\n              <i class=\"el-icon-user\"></i>\r\n              {{ user.realName }}\r\n              <i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n            </span>\r\n            <el-dropdown-menu slot=\"dropdown\">\r\n              <el-dropdown-item command=\"center\"></el-dropdown-item>\r\n              <el-dropdown-item command=\"my-products\"></el-dropdown-item>\r\n              <el-dropdown-item command=\"my-helps\"></el-dropdown-item>\r\n              <el-dropdown-item divided command=\"logout\"></el-dropdown-item>\r\n            </el-dropdown-menu>\r\n          </el-dropdown>\r\n        </div>\r\n      </div>\r\n    </el-header>\r\n    <el-main class=\"main-content\">\r\n      <slot></slot>\r\n    </el-main>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Layout',\r\n  data() {\r\n    return {\r\n      user: null,\r\n      logoUrl: '/4103920fcb585969e77a189b4f342387.png'\r\n    }\r\n  },\r\n  computed: {\r\n    activeMenu() {\r\n      const path = this.$route.path\r\n      if (path.startsWith('/product')) return 'products'\r\n      if (path.startsWith('/help')) return 'helps'\r\n      if (path.startsWith('/chat')) return 'chats'\r\n      if (path.includes('publish')) return 'publish'\r\n      return 'products'\r\n    }\r\n  },\r\n  mounted() {\r\n    this.user = JSON.parse(localStorage.getItem('user') || 'null')\r\n  },\r\n  watch: {\r\n    $route() {\r\n      this.user = JSON.parse(localStorage.getItem('user') || 'null')\r\n    }\r\n  },\r\n  methods: {\r\n    handleMenuSelect(key) {\r\n      if (key === 'products') {\r\n        this.$router.push('/')\r\n      } else if (key === 'helps') {\r\n        this.$router.push('/helps')\r\n      } else if (key === 'publish') {\r\n        this.$router.push('/product/publish')\r\n      } else if (key === 'chats') {\r\n        this.$router.push('/chats')\r\n      }\r\n    },\r\n    handleCommand(command) {\r\n      if (command === 'center') {\r\n        this.$router.push('/user/center')\r\n      } else if (command === 'my-products') {\r\n        this.$router.push('/user/center?tab=products')\r\n      } else if (command === 'my-helps') {\r\n        this.$router.push('/user/center?tab=helps')\r\n      } else if (command === 'logout') {\r\n        localStorage.removeItem('user')\r\n        localStorage.removeItem('token')\r\n        this.user = null\r\n        this.$message.success('')\r\n        this.$router.push('/')\r\n      }\r\n    },\r\n    handleImageError() {\r\n      // \r\n      this.logoUrl = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiBmaWxsPSIjZGRkIi8+PHRleHQgeD0iNTA%2FJSIgeT0iNTAlJSIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPuaXoOWbvueJhzwvdGV4dD48L3N2Zz4='\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.layout-container {\r\n  min-height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.main-header {\r\n  background: #fff;\r\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\r\n  padding: 0;\r\n  height: 60px !important;\r\n  line-height: 60px;\r\n}\r\n\r\n.header-content {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  height: 100%;\r\n  padding: 0 20px;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  width: 100%;\r\n}\r\n\r\n.logo-section {\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  gap: 10px;\r\n}\r\n\r\n.logo-img {\r\n  width: 40px;\r\n  height: 40px;\r\n  object-fit: contain;\r\n}\r\n\r\n.site-title {\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n  color: #409EFF;\r\n}\r\n\r\n.nav-section {\r\n  flex: 1;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.main-menu {\r\n  border-bottom: none;\r\n}\r\n\r\n.user-section {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.user-info {\r\n  cursor: pointer;\r\n  color: #333;\r\n  font-size: 14px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 5px;\r\n}\r\n\r\n.main-content {\r\n  flex: 1;\r\n  background: #f5f5f5;\r\n  padding: 20px;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  width: 100%;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Layout.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Layout.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Layout.vue?vue&type=template&id=22c19b6c&scoped=true\"\nimport script from \"./Layout.vue?vue&type=script&lang=js\"\nexport * from \"./Layout.vue?vue&type=script&lang=js\"\nimport style0 from \"./Layout.vue?vue&type=style&index=0&id=22c19b6c&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"22c19b6c\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <Layout>\r\n    <div class=\"home-page\">\r\n      <!--  -  -->\r\n      <div class=\"filter-banner\">\r\n        <div class=\"filter-container\">\r\n          <div class=\"filter-section\">\r\n            <div class=\"filter-title\">\r\n              <i class=\"el-icon-menu\"></i>\r\n              <span></span>\r\n            </div>\r\n            <el-radio-group v-model=\"selectedCategory\" @change=\"loadProducts\" size=\"medium\" class=\"category-buttons\">\r\n              <el-radio-button label=\"\">\r\n                <i class=\"el-icon-s-grid\"></i>\r\n                \r\n              </el-radio-button>\r\n              <el-radio-button label=\"\">\r\n                <i class=\"el-icon-reading\"></i>\r\n                \r\n              </el-radio-button>\r\n              <el-radio-button label=\"\">\r\n                <i class=\"el-icon-shopping-bag-1\"></i>\r\n                \r\n              </el-radio-button>\r\n              <el-radio-button label=\"\">\r\n                <i class=\"el-icon-document\"></i>\r\n                \r\n              </el-radio-button>\r\n            </el-radio-group>\r\n          </div>\r\n          <div class=\"publish-section\" v-if=\"user\">\r\n            <el-button \r\n              type=\"primary\" \r\n              icon=\"el-icon-plus\" \r\n              size=\"medium\"\r\n              @click=\"$router.push('/product/publish')\"\r\n              class=\"publish-btn\">\r\n              \r\n            </el-button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!--  -->\r\n      <div class=\"products-grid\">\r\n        <el-card \r\n          v-for=\"product in products\" \r\n          :key=\"product.id\" \r\n          class=\"product-card\"\r\n          @click.native=\"$router.push(`/product/${product.id}`)\"\r\n          shadow=\"hover\">\r\n          <div class=\"product-image\">\r\n            <img v-if=\"getFirstImage(product.images)\" :src=\"getFirstImage(product.images)\" alt=\"\">\r\n            <div v-else class=\"no-image\">\r\n              <i class=\"el-icon-picture\"></i>\r\n              <p></p>\r\n            </div>\r\n          </div>\r\n          <div class=\"product-info\">\r\n            <h3 class=\"product-title\">{{ product.title }}</h3>\r\n            <div class=\"product-price\">{{ product.price }}</div>\r\n            <div class=\"product-meta\">\r\n              <el-tag size=\"mini\" type=\"info\">{{ product.category }}</el-tag>\r\n              <el-tag size=\"mini\" :type=\"product.tradeType === '' ? 'success' : 'warning'\">\r\n                {{ product.tradeType }}\r\n              </el-tag>\r\n            </div>\r\n          </div>\r\n        </el-card>\r\n      </div>\r\n\r\n      <el-empty v-if=\"products.length === 0\" description=\"\"></el-empty>\r\n    </div>\r\n  </Layout>\r\n</template>\r\n\r\n<script>\r\nimport Layout from '../components/Layout.vue'\r\n\r\nexport default {\r\n  name: 'Home',\r\n  components: {\r\n    Layout\r\n  },\r\n  data() {\r\n    return {\r\n      products: [],\r\n      selectedCategory: '',\r\n      user: null\r\n    }\r\n  },\r\n  mounted() {\r\n    this.user = JSON.parse(localStorage.getItem('user') || 'null')\r\n    this.loadProducts()\r\n  },\r\n  methods: {\r\n    loadProducts() {\r\n      const params = this.selectedCategory ? { category: this.selectedCategory } : {}\r\n      this.$http.get('/product/list', { params }).then(res => {\r\n        if (res.success) {\r\n          this.products = res.data\r\n        }\r\n      })\r\n    },\r\n    getFirstImage(images) {\r\n      if (!images) return null\r\n      try {\r\n        const imgArray = JSON.parse(images)\r\n        if (imgArray.length > 0) {\r\n          let imgUrl = imgArray[0]\r\n          // URL\r\n          if (!imgUrl || typeof imgUrl !== 'string') {\r\n            return null\r\n          }\r\n          // URL/\r\n          if (!imgUrl.startsWith('http') && !imgUrl.startsWith('/')) {\r\n            imgUrl = '/' + imgUrl\r\n          }\r\n          //  /uploads/ \r\n          if (imgUrl.startsWith('/uploads/') && process.env.NODE_ENV === 'development') {\r\n            imgUrl = 'http://47.108.59.70:8090' + imgUrl\r\n          }\r\n          return imgUrl\r\n        }\r\n        return null\r\n      } catch {\r\n        return null\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.home-page {\r\n  width: 100%;\r\n}\r\n\r\n.filter-banner {\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  border-radius: 8px;\r\n  padding: 30px;\r\n  margin-bottom: 30px;\r\n  box-shadow: 0 4px 12px rgba(0,0,0,0.15);\r\n}\r\n\r\n.filter-container {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  max-width: 100%;\r\n}\r\n\r\n.filter-section {\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 20px;\r\n}\r\n\r\n.filter-title {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  color: #fff;\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  white-space: nowrap;\r\n}\r\n\r\n.filter-title i {\r\n  font-size: 20px;\r\n}\r\n\r\n.category-buttons {\r\n  display: flex;\r\n  gap: 10px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.category-buttons .el-radio-button {\r\n  margin: 0;\r\n}\r\n\r\n.category-buttons .el-radio-button__inner {\r\n  padding: 12px 20px;\r\n  font-size: 14px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  border-radius: 4px;\r\n}\r\n\r\n.category-buttons .el-radio-button__inner i {\r\n  font-size: 16px;\r\n}\r\n\r\n.category-buttons .el-radio-button__orig-radio:checked + .el-radio-button__inner {\r\n  background-color: #fff;\r\n  color: #667eea;\r\n  border-color: #fff;\r\n  box-shadow: 0 2px 8px rgba(0,0,0,0.2);\r\n}\r\n\r\n.publish-section {\r\n  margin-left: 20px;\r\n}\r\n\r\n.publish-btn {\r\n  padding: 12px 24px;\r\n  font-size: 16px;\r\n  height: auto;\r\n  box-shadow: 0 2px 8px rgba(0,0,0,0.2);\r\n}\r\n\r\n.products-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));\r\n  gap: 20px;\r\n}\r\n\r\n.product-card {\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.product-card:hover {\r\n  transform: translateY(-5px);\r\n  box-shadow: 0 4px 12px rgba(0,0,0,0.15);\r\n}\r\n\r\n.product-image {\r\n  width: 100%;\r\n  height: 200px;\r\n  overflow: hidden;\r\n  margin-bottom: 10px;\r\n  background: #f5f5f5;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.product-image img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n}\r\n\r\n.no-image {\r\n  text-align: center;\r\n  color: #999;\r\n}\r\n\r\n.no-image i {\r\n  font-size: 48px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.product-info {\r\n  padding: 10px 0;\r\n}\r\n\r\n.product-title {\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  margin: 0 0 10px 0;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  color: #333;\r\n}\r\n\r\n.product-price {\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n  color: #f56c6c;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.product-meta {\r\n  display: flex;\r\n  gap: 8px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=f1bc7112&scoped=true\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=f1bc7112&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f1bc7112\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login-container\"},[_c('el-card',{staticClass:\"login-card\"},[_c('div',{staticClass:\"logo-container\"},[_c('img',{staticClass:\"school-logo\",attrs:{\"src\":_vm.logoUrl,\"alt\":\"\"}})]),_c('h2',[_vm._v(\"\")]),_c('el-form',{ref:\"loginForm\",attrs:{\"model\":_vm.loginForm,\"rules\":_vm.rules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"\",\"prop\":\"username\"}},[_c('el-input',{attrs:{\"placeholder\":\"\"},model:{value:(_vm.loginForm.username),callback:function ($$v) {_vm.$set(_vm.loginForm, \"username\", $$v)},expression:\"loginForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.handleLogin.apply(null, arguments)}},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}})],1),_c('el-form-item',[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleLogin}},[_vm._v(\"\")])],1),_c('el-form-item',[_c('el-link',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.$router.push('/register')}}},[_vm._v(\"\")])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"login-container\">\r\n    <el-card class=\"login-card\">\r\n      <div class=\"logo-container\">\r\n        <img :src=\"logoUrl\" alt=\"\" class=\"school-logo\">\r\n      </div>\r\n      <h2></h2>\r\n      <el-form :model=\"loginForm\" :rules=\"rules\" ref=\"loginForm\" label-width=\"80px\">\r\n        <el-form-item label=\"\" prop=\"username\">\r\n          <el-input v-model=\"loginForm.username\" placeholder=\"\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"\" prop=\"password\">\r\n          <el-input v-model=\"loginForm.password\" type=\"password\" placeholder=\"\" @keyup.enter.native=\"handleLogin\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"handleLogin\" style=\"width: 100%\"></el-button>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-link type=\"primary\" @click=\"$router.push('/register')\"></el-link>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Login',\r\n  data() {\r\n    return {\r\n      logoUrl: '/4103920fcb585969e77a189b4f342387.png',\r\n      loginForm: {\r\n        username: '',\r\n        password: ''\r\n      },\r\n      rules: {\r\n        username: [\r\n          { required: true, message: '', trigger: 'blur' }\r\n        ],\r\n        password: [\r\n          { required: true, message: '', trigger: 'blur' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    handleLogin() {\r\n      this.$refs.loginForm.validate((valid) => {\r\n        if (valid) {\r\n          this.$http.post('/user/login', this.loginForm).then(res => {\r\n            if (res.success) {\r\n              localStorage.setItem('user', JSON.stringify(res.data))\r\n              localStorage.setItem('token', 'token_' + res.data.id)\r\n              this.$message.success('')\r\n              this.$router.push('/')\r\n            } else {\r\n              this.$message.error(res.message)\r\n            }\r\n          }).catch(err => {\r\n            this.$message.error('' + (err.message || ''))\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.login-container {\r\n  min-height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n}\r\n\r\n.login-card {\r\n  width: 400px;\r\n  padding: 30px;\r\n}\r\n\r\n.logo-container {\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.school-logo {\r\n  width: 120px;\r\n  height: 120px;\r\n  object-fit: contain;\r\n}\r\n\r\n.login-card h2 {\r\n  text-align: center;\r\n  margin-bottom: 30px;\r\n  color: #333;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=5696257b&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=5696257b&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5696257b\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"register-container\"},[_c('el-card',{staticClass:\"register-card\"},[_c('h2',[_vm._v(\"\")]),_c('el-form',{ref:\"registerForm\",attrs:{\"model\":_vm.registerForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"\",\"prop\":\"username\"}},[_c('el-input',{attrs:{\"placeholder\":\"\"},model:{value:(_vm.registerForm.username),callback:function ($$v) {_vm.$set(_vm.registerForm, \"username\", $$v)},expression:\"registerForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"\"},model:{value:(_vm.registerForm.password),callback:function ($$v) {_vm.$set(_vm.registerForm, \"password\", $$v)},expression:\"registerForm.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"\",\"prop\":\"confirmPassword\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"\"},model:{value:(_vm.registerForm.confirmPassword),callback:function ($$v) {_vm.$set(_vm.registerForm, \"confirmPassword\", $$v)},expression:\"registerForm.confirmPassword\"}})],1),_c('el-form-item',{attrs:{\"label\":\"\",\"prop\":\"realName\"}},[_c('el-input',{attrs:{\"placeholder\":\"\"},model:{value:(_vm.registerForm.realName),callback:function ($$v) {_vm.$set(_vm.registerForm, \"realName\", $$v)},expression:\"registerForm.realName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"\",\"prop\":\"studentId\"}},[_c('el-input',{attrs:{\"placeholder\":\"\"},model:{value:(_vm.registerForm.studentId),callback:function ($$v) {_vm.$set(_vm.registerForm, \"studentId\", $$v)},expression:\"registerForm.studentId\"}})],1),_c('el-form-item',{attrs:{\"label\":\"\",\"prop\":\"phone\"}},[_c('el-input',{attrs:{\"placeholder\":\"\"},model:{value:(_vm.registerForm.phone),callback:function ($$v) {_vm.$set(_vm.registerForm, \"phone\", $$v)},expression:\"registerForm.phone\"}})],1),_c('el-form-item',{attrs:{\"label\":\"\",\"prop\":\"email\"}},[_c('el-input',{attrs:{\"placeholder\":\"\"},model:{value:(_vm.registerForm.email),callback:function ($$v) {_vm.$set(_vm.registerForm, \"email\", $$v)},expression:\"registerForm.email\"}})],1),_c('el-form-item',[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleRegister}},[_vm._v(\"\")])],1),_c('el-form-item',[_c('el-link',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.$router.push('/login')}}},[_vm._v(\"\")])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"register-container\">\r\n    <el-card class=\"register-card\">\r\n      <h2></h2>\r\n      <el-form :model=\"registerForm\" :rules=\"rules\" ref=\"registerForm\" label-width=\"100px\">\r\n        <el-form-item label=\"\" prop=\"username\">\r\n          <el-input v-model=\"registerForm.username\" placeholder=\"\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"\" prop=\"password\">\r\n          <el-input v-model=\"registerForm.password\" type=\"password\" placeholder=\"\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"\" prop=\"confirmPassword\">\r\n          <el-input v-model=\"registerForm.confirmPassword\" type=\"password\" placeholder=\"\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"\" prop=\"realName\">\r\n          <el-input v-model=\"registerForm.realName\" placeholder=\"\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"\" prop=\"studentId\">\r\n          <el-input v-model=\"registerForm.studentId\" placeholder=\"\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"\" prop=\"phone\">\r\n          <el-input v-model=\"registerForm.phone\" placeholder=\"\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"\" prop=\"email\">\r\n          <el-input v-model=\"registerForm.email\" placeholder=\"\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"handleRegister\" style=\"width: 100%\"></el-button>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-link type=\"primary\" @click=\"$router.push('/login')\"></el-link>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Register',\r\n  data() {\r\n    const validateConfirmPassword = (rule, value, callback) => {\r\n      if (value !== this.registerForm.password) {\r\n        callback(new Error(''))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n    return {\r\n      registerForm: {\r\n        username: '',\r\n        password: '',\r\n        confirmPassword: '',\r\n        realName: '',\r\n        studentId: '',\r\n        phone: '',\r\n        email: ''\r\n      },\r\n      rules: {\r\n        username: [\r\n          { required: true, message: '', trigger: 'blur' },\r\n          { min: 3, max: 20, message: ' 3  20 ', trigger: 'blur' }\r\n        ],\r\n        password: [\r\n          { required: true, message: '', trigger: 'blur' },\r\n          { min: 6, message: '6', trigger: 'blur' }\r\n        ],\r\n        confirmPassword: [\r\n          { required: true, message: '', trigger: 'blur' },\r\n          { validator: validateConfirmPassword, trigger: 'blur' }\r\n        ],\r\n        realName: [\r\n          { required: true, message: '', trigger: 'blur' }\r\n        ],\r\n        studentId: [\r\n          { required: true, message: '', trigger: 'blur' }\r\n        ],\r\n        phone: [\r\n          { pattern: /^1[3-9]\\d{9}$/, message: '', trigger: 'blur' }\r\n        ],\r\n        email: [\r\n          { type: 'email', message: '', trigger: 'blur' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    handleRegister() {\r\n      this.$refs.registerForm.validate((valid) => {\r\n        if (valid) {\r\n          const { confirmPassword, ...formData } = this.registerForm\r\n          this.$http.post('/user/register', formData).then(res => {\r\n            if (res.success) {\r\n              this.$message.success('')\r\n              this.$router.push('/login')\r\n            } else {\r\n              this.$message.error(res.message)\r\n            }\r\n          }).catch(err => {\r\n            this.$message.error('' + (err.message || ''))\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.register-container {\r\n  min-height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  padding: 20px;\r\n}\r\n\r\n.register-card {\r\n  width: 500px;\r\n  max-width: 100%;\r\n  padding: 30px;\r\n}\r\n\r\n.register-card h2 {\r\n  text-align: center;\r\n  margin-bottom: 30px;\r\n  color: #333;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Register.vue?vue&type=template&id=4763af9c&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\nimport style0 from \"./Register.vue?vue&type=style&index=0&id=4763af9c&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4763af9c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"product-list\"},[_c('el-container',[_c('el-header',[_c('div',{staticClass:\"header-content\"},[_c('h2',[_vm._v(\"\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){return _vm.$router.push('/product/publish')}}},[_vm._v(\"\")])],1)]),_c('el-main',[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":6}},[_c('el-card',[_c('h3',[_vm._v(\"\")]),_c('el-radio-group',{on:{\"change\":_vm.loadProducts},model:{value:(_vm.selectedCategory),callback:function ($$v) {_vm.selectedCategory=$$v},expression:\"selectedCategory\"}},[_c('el-radio',{attrs:{\"label\":\"\"}},[_vm._v(\"\")]),_c('el-radio',{attrs:{\"label\":\"\"}},[_vm._v(\"\")]),_c('el-radio',{attrs:{\"label\":\"\"}},[_vm._v(\"\")]),_c('el-radio',{attrs:{\"label\":\"\"}},[_vm._v(\"\")])],1)],1)],1),_c('el-col',{attrs:{\"span\":18}},[_c('el-row',{attrs:{\"gutter\":20}},_vm._l((_vm.products),function(product){return _c('el-col',{key:product.id,staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"span\":8}},[_c('el-card',{staticClass:\"product-card\",nativeOn:{\"click\":function($event){return _vm.$router.push(`/product/${product.id}`)}}},[_c('div',{staticClass:\"product-image\"},[(_vm.getFirstImage(product.images))?_c('img',{attrs:{\"src\":_vm.getFirstImage(product.images),\"alt\":\"\"}}):_c('div',{staticClass:\"no-image\"},[_vm._v(\"\")])]),_c('div',{staticClass:\"product-info\"},[_c('h3',[_vm._v(_vm._s(product.title))]),_c('p',{staticClass:\"price\"},[_vm._v(\"\"+_vm._s(product.price))]),_c('p',{staticClass:\"category\"},[_vm._v(_vm._s(product.category))]),_c('p',{staticClass:\"trade-type\"},[_vm._v(_vm._s(product.tradeType === '' ? '' : ''))])])])],1)}),1),(_vm.products.length === 0)?_c('el-empty',{attrs:{\"description\":\"\"}}):_vm._e()],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"product-list\">\r\n    <el-container>\r\n      <el-header>\r\n        <div class=\"header-content\">\r\n          <h2></h2>\r\n          <el-button type=\"primary\" @click=\"$router.push('/product/publish')\" icon=\"el-icon-plus\"></el-button>\r\n        </div>\r\n      </el-header>\r\n      <el-main>\r\n        <el-row :gutter=\"20\">\r\n          <el-col :span=\"6\">\r\n            <el-card>\r\n              <h3></h3>\r\n              <el-radio-group v-model=\"selectedCategory\" @change=\"loadProducts\">\r\n                <el-radio label=\"\"></el-radio>\r\n                <el-radio label=\"\"></el-radio>\r\n                <el-radio label=\"\"></el-radio>\r\n                <el-radio label=\"\"></el-radio>\r\n              </el-radio-group>\r\n            </el-card>\r\n          </el-col>\r\n          <el-col :span=\"18\">\r\n            <el-row :gutter=\"20\">\r\n              <el-col :span=\"8\" v-for=\"product in products\" :key=\"product.id\" style=\"margin-bottom: 20px;\">\r\n                <el-card class=\"product-card\" @click.native=\"$router.push(`/product/${product.id}`)\">\r\n                  <div class=\"product-image\">\r\n                    <img v-if=\"getFirstImage(product.images)\" :src=\"getFirstImage(product.images)\" alt=\"\">\r\n                    <div v-else class=\"no-image\"></div>\r\n                  </div>\r\n                  <div class=\"product-info\">\r\n                    <h3>{{ product.title }}</h3>\r\n                    <p class=\"price\">{{ product.price }}</p>\r\n                    <p class=\"category\">{{ product.category }}</p>\r\n                    <p class=\"trade-type\">{{ product.tradeType === '' ? '' : '' }}</p>\r\n                  </div>\r\n                </el-card>\r\n              </el-col>\r\n            </el-row>\r\n            <el-empty v-if=\"products.length === 0\" description=\"\"></el-empty>\r\n          </el-col>\r\n        </el-row>\r\n      </el-main>\r\n    </el-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ProductList',\r\n  data() {\r\n    return {\r\n      products: [],\r\n      selectedCategory: ''\r\n    }\r\n  },\r\n  mounted() {\r\n    this.loadProducts()\r\n  },\r\n  methods: {\r\n    loadProducts() {\r\n      const params = this.selectedCategory ? { category: this.selectedCategory } : {}\r\n      this.$http.get('/product/list', { params }).then(res => {\r\n        if (res.success) {\r\n          this.products = res.data\r\n        }\r\n      })\r\n    },\r\n    getFirstImage(images) {\r\n      if (!images) return null\r\n      try {\r\n        const imgArray = JSON.parse(images)\r\n        if (imgArray.length > 0) {\r\n          let imgUrl = imgArray[0]\r\n          // URL\r\n          if (!imgUrl || typeof imgUrl !== 'string') {\r\n            return null\r\n          }\r\n          // URL/\r\n          if (!imgUrl.startsWith('http') && !imgUrl.startsWith('/')) {\r\n            imgUrl = '/' + imgUrl\r\n          }\r\n          //  /uploads/ \r\n          if (imgUrl.startsWith('/uploads/') && process.env.NODE_ENV === 'development') {\r\n            imgUrl = 'http://47.108.59.70:8090' + imgUrl\r\n          }\r\n          return imgUrl\r\n        }\r\n        return null\r\n      } catch {\r\n        return null\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.product-list {\r\n  min-height: 100vh;\r\n  background: #f5f5f5;\r\n}\r\n\r\n.header-content {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  height: 100%;\r\n  padding: 0 20px;\r\n}\r\n\r\n.product-card {\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.product-card:hover {\r\n  transform: translateY(-5px);\r\n  box-shadow: 0 4px 12px rgba(0,0,0,0.15);\r\n}\r\n\r\n.product-image {\r\n  width: 100%;\r\n  height: 200px;\r\n  overflow: hidden;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.product-image img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n}\r\n\r\n.no-image {\r\n  width: 100%;\r\n  height: 100%;\r\n  background: #f0f0f0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: #999;\r\n}\r\n\r\n.product-info h3 {\r\n  margin: 10px 0;\r\n  font-size: 16px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n\r\n.price {\r\n  color: #f56c6c;\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n  margin: 10px 0;\r\n}\r\n\r\n.category, .trade-type {\r\n  color: #666;\r\n  font-size: 12px;\r\n  margin: 5px 0;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ProductList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ProductList.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ProductList.vue?vue&type=template&id=7b342b72&scoped=true\"\nimport script from \"./ProductList.vue?vue&type=script&lang=js\"\nexport * from \"./ProductList.vue?vue&type=script&lang=js\"\nimport style0 from \"./ProductList.vue?vue&type=style&index=0&id=7b342b72&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b342b72\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Layout',[(_vm.product)?_c('div',{staticClass:\"product-detail-page\"},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-card',[(_vm.productImages.length > 0)?_c('el-carousel',{attrs:{\"height\":\"500px\"}},_vm._l((_vm.productImages),function(img,index){return _c('el-carousel-item',{key:index},[_c('img',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\",\"object-fit\":\"contain\"},attrs:{\"src\":img}})])}),1):_c('div',{staticClass:\"no-image-large\"},[_c('i',{staticClass:\"el-icon-picture\"}),_c('p',[_vm._v(\"\")])])],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-card',[_c('h1',{staticClass:\"product-title\"},[_vm._v(_vm._s(_vm.product.title))]),_c('div',{staticClass:\"product-price-large\"},[_vm._v(\"\"+_vm._s(_vm.product.price))]),_c('el-divider'),_c('div',{staticClass:\"info-row\"},[_c('span',{staticClass:\"info-label\"},[_vm._v(\"\")]),_c('el-tag',[_vm._v(_vm._s(_vm.product.category))])],1),_c('div',{staticClass:\"info-row\"},[_c('span',{staticClass:\"info-label\"},[_vm._v(\"\")]),_c('el-tag',{attrs:{\"type\":_vm.product.tradeType === '' ? 'success' : 'warning'}},[_vm._v(\" \"+_vm._s(_vm.product.tradeType)+\" \")])],1),(_vm.product.tradeType === '' && _vm.deliveryPoint)?_c('div',{staticClass:\"info-row\"},[_c('span',{staticClass:\"info-label\"},[_vm._v(\"\")]),_c('span',[_vm._v(_vm._s(_vm.deliveryPoint.name)+\" - \"+_vm._s(_vm.deliveryPoint.address))])]):_vm._e(),_c('div',{staticClass:\"info-row\"},[_c('span',{staticClass:\"info-label\"},[_vm._v(\"\")]),_c('el-tag',{attrs:{\"type\":_vm.product.status === 0 ? 'success' : 'info'}},[_vm._v(\" \"+_vm._s(_vm.product.status === 0 ? '' : _vm.product.status === 1 ? '' : '')+\" \")])],1),_c('el-divider'),_c('h3',[_vm._v(\"\")]),_c('div',{staticClass:\"product-description\"},[_vm._v(_vm._s(_vm.product.description))]),_c('el-divider'),_c('div',{staticClass:\"action-buttons\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"large\",\"icon\":\"el-icon-message\",\"disabled\":_vm.product.status !== 0 || _vm.isOwner},on:{\"click\":_vm.contactSeller}},[_vm._v(\" \"+_vm._s(_vm.isOwner ? '' : _vm.product.status === 0 ? '' : '')+\" \")])],1)],1)],1)],1)],1):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <Layout>\r\n    <div class=\"product-detail-page\" v-if=\"product\">\r\n      <el-row :gutter=\"20\">\r\n        <!--  -->\r\n        <el-col :span=\"12\">\r\n          <el-card>\r\n            <el-carousel v-if=\"productImages.length > 0\" height=\"500px\">\r\n              <el-carousel-item v-for=\"(img, index) in productImages\" :key=\"index\">\r\n                <img :src=\"img\" style=\"width: 100%; height: 100%; object-fit: contain;\">\r\n              </el-carousel-item>\r\n            </el-carousel>\r\n            <div v-else class=\"no-image-large\">\r\n              <i class=\"el-icon-picture\"></i>\r\n              <p></p>\r\n            </div>\r\n          </el-card>\r\n        </el-col>\r\n\r\n        <!--  -->\r\n        <el-col :span=\"12\">\r\n          <el-card>\r\n            <h1 class=\"product-title\">{{ product.title }}</h1>\r\n            <div class=\"product-price-large\">{{ product.price }}</div>\r\n            \r\n            <el-divider></el-divider>\r\n\r\n            <div class=\"info-row\">\r\n              <span class=\"info-label\"></span>\r\n              <el-tag>{{ product.category }}</el-tag>\r\n            </div>\r\n            <div class=\"info-row\">\r\n              <span class=\"info-label\"></span>\r\n              <el-tag :type=\"product.tradeType === '' ? 'success' : 'warning'\">\r\n                {{ product.tradeType }}\r\n              </el-tag>\r\n            </div>\r\n            <div class=\"info-row\" v-if=\"product.tradeType === '' && deliveryPoint\">\r\n              <span class=\"info-label\"></span>\r\n              <span>{{ deliveryPoint.name }} - {{ deliveryPoint.address }}</span>\r\n            </div>\r\n            <div class=\"info-row\">\r\n              <span class=\"info-label\"></span>\r\n              <el-tag :type=\"product.status === 0 ? 'success' : 'info'\">\r\n                {{ product.status === 0 ? '' : product.status === 1 ? '' : '' }}\r\n              </el-tag>\r\n            </div>\r\n\r\n            <el-divider></el-divider>\r\n\r\n            <h3></h3>\r\n            <div class=\"product-description\">{{ product.description }}</div>\r\n\r\n            <el-divider></el-divider>\r\n\r\n            <div class=\"action-buttons\">\r\n              <el-button \r\n                type=\"primary\" \r\n                size=\"large\" \r\n                icon=\"el-icon-message\"\r\n                @click=\"contactSeller\"\r\n                :disabled=\"product.status !== 0 || isOwner\">\r\n                {{ isOwner ? '' : product.status === 0 ? '' : '' }}\r\n              </el-button>\r\n            </div>\r\n          </el-card>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n  </Layout>\r\n</template>\r\n\r\n<script>\r\nimport Layout from '../components/Layout.vue'\r\n\r\nexport default {\r\n  name: 'ProductDetail',\r\n  components: {\r\n    Layout\r\n  },\r\n  data() {\r\n    return {\r\n      product: null,\r\n      deliveryPoint: null,\r\n      productImages: [],\r\n      user: null\r\n    }\r\n  },\r\n  computed: {\r\n    isOwner() {\r\n      return this.user && this.product && this.user.id === this.product.userId\r\n    }\r\n  },\r\n  mounted() {\r\n    this.user = JSON.parse(localStorage.getItem('user') || 'null')\r\n    this.loadProduct()\r\n  },\r\n  methods: {\r\n    loadProduct() {\r\n      const id = this.$route.params.id\r\n      if (!id || id === 'publish') {\r\n        this.$message.error('ID')\r\n        this.$router.push('/')\r\n        return\r\n      }\r\n      this.$http.get(`/product/${id}`).then(res => {\r\n        if (res.success) {\r\n          this.product = res.data\r\n          if (this.product.images) {\r\n            try {\r\n              const imgArray = JSON.parse(this.product.images)\r\n              // URL\r\n              this.productImages = imgArray\r\n                .filter(img => img && typeof img === 'string' && img.trim() !== '')\r\n                .map(img => {\r\n                  // URL/\r\n                  if (!img.startsWith('http') && !img.startsWith('/')) {\r\n                    img = '/' + img\r\n                  }\r\n                  //  /uploads/ \r\n                  if (img.startsWith('/uploads/') && process.env.NODE_ENV === 'development') {\r\n                    img = 'http://47.108.59.70:8090' + img\r\n                  }\r\n                  return img\r\n                })\r\n            } catch {\r\n              this.productImages = []\r\n            }\r\n          }\r\n          if (this.product.deliveryPointId) {\r\n            this.loadDeliveryPoint(this.product.deliveryPointId)\r\n          }\r\n        }\r\n      })\r\n    },\r\n    loadDeliveryPoint(id) {\r\n      this.$http.get(`/delivery/${id}`).then(res => {\r\n        if (res.success) {\r\n          this.deliveryPoint = res.data\r\n        }\r\n      })\r\n    },\r\n    contactSeller() {\r\n      if (!this.user) {\r\n        this.$message.warning('')\r\n        this.$router.push('/login')\r\n        return\r\n      }\r\n      // ID\r\n      this.$router.push({\r\n        path: `/chat/${this.product.userId}`,\r\n        query: { productId: this.product.id }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.product-detail-page {\r\n  width: 100%;\r\n}\r\n\r\n.product-title {\r\n  font-size: 28px;\r\n  margin-bottom: 20px;\r\n  color: #333;\r\n}\r\n\r\n.product-price-large {\r\n  font-size: 36px;\r\n  color: #f56c6c;\r\n  font-weight: bold;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.info-row {\r\n  margin: 15px 0;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.info-label {\r\n  font-weight: bold;\r\n  color: #666;\r\n  min-width: 80px;\r\n}\r\n\r\n.product-description {\r\n  margin: 20px 0;\r\n  line-height: 1.8;\r\n  color: #333;\r\n  white-space: pre-wrap;\r\n}\r\n\r\n.action-buttons {\r\n  margin-top: 30px;\r\n}\r\n\r\n.action-buttons .el-button {\r\n  width: 100%;\r\n  padding: 15px;\r\n  font-size: 16px;\r\n}\r\n\r\n.no-image-large {\r\n  height: 500px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: #999;\r\n}\r\n\r\n.no-image-large i {\r\n  font-size: 80px;\r\n  margin-bottom: 20px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ProductDetail.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ProductDetail.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ProductDetail.vue?vue&type=template&id=47726400&scoped=true\"\nimport script from \"./ProductDetail.vue?vue&type=script&lang=js\"\nexport * from \"./ProductDetail.vue?vue&type=script&lang=js\"\nimport style0 from \"./ProductDetail.vue?vue&type=style&index=0&id=47726400&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"47726400\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Layout',[_c('div',{staticClass:\"product-publish-wrapper\"},[_c('div',{staticClass:\"product-publish\"},[_c('el-card',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('h2',[_vm._v(\"\")])]),_c('el-form',{ref:\"productForm\",staticStyle:{\"max-width\":\"800px\"},attrs:{\"model\":_vm.productForm,\"rules\":_vm.rules,\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"\",\"prop\":\"title\"}},[_c('el-input',{attrs:{\"placeholder\":\"\"},model:{value:(_vm.productForm.title),callback:function ($$v) {_vm.$set(_vm.productForm, \"title\", $$v)},expression:\"productForm.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"\",\"prop\":\"category\"}},[_c('el-select',{attrs:{\"placeholder\":\"\"},model:{value:(_vm.productForm.category),callback:function ($$v) {_vm.$set(_vm.productForm, \"category\", $$v)},expression:\"productForm.category\"}},[_c('el-option',{attrs:{\"label\":\"\",\"value\":\"\"}}),_c('el-option',{attrs:{\"label\":\"\",\"value\":\"\"}}),_c('el-option',{attrs:{\"label\":\"\",\"value\":\"\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"\",\"prop\":\"description\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":5,\"placeholder\":\"\"},model:{value:(_vm.productForm.description),callback:function ($$v) {_vm.$set(_vm.productForm, \"description\", $$v)},expression:\"productForm.description\"}})],1),_c('el-form-item',{attrs:{\"label\":\"\",\"prop\":\"price\"}},[_c('el-input-number',{attrs:{\"min\":0,\"precision\":2,\"placeholder\":\"\"},model:{value:(_vm.productForm.price),callback:function ($$v) {_vm.$set(_vm.productForm, \"price\", $$v)},expression:\"productForm.price\"}})],1),_c('el-form-item',{attrs:{\"label\":\"\",\"prop\":\"tradeType\"}},[_c('el-radio-group',{model:{value:(_vm.productForm.tradeType),callback:function ($$v) {_vm.$set(_vm.productForm, \"tradeType\", $$v)},expression:\"productForm.tradeType\"}},[_c('el-radio',{attrs:{\"label\":\"\"}},[_vm._v(\"\")]),_c('el-radio',{attrs:{\"label\":\"\"}},[_vm._v(\"\")])],1)],1),(_vm.productForm.tradeType === '')?_c('el-form-item',{attrs:{\"label\":\"\",\"prop\":\"deliveryPointId\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.showMapDialog = true}}},[_vm._v(\"\")]),(_vm.selectedDeliveryPoint)?_c('div',{staticStyle:{\"margin-top\":\"10px\"}},[_c('el-tag',[_vm._v(_vm._s(_vm.selectedDeliveryPoint.name)+\" - \"+_vm._s(_vm.selectedDeliveryPoint.address))])],1):_vm._e()],1):_vm._e(),_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('el-upload',{attrs:{\"action\":\"/api/file/upload\",\"list-type\":\"picture-card\",\"file-list\":_vm.fileList,\"on-preview\":_vm.handlePreview,\"on-remove\":_vm.handleRemove,\"on-success\":_vm.handleUploadSuccess,\"on-error\":_vm.handleUploadError,\"before-upload\":_vm.beforeUpload,\"limit\":5}},[_c('i',{staticClass:\"el-icon-plus\"})])],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSubmit}},[_vm._v(\"\")]),_c('el-button',{on:{\"click\":function($event){return _vm.$router.back()}}},[_vm._v(\"\")])],1)],1)],1)],1),_c('el-dialog',{attrs:{\"title\":\"\",\"visible\":_vm.showMapDialog,\"width\":\"80%\",\"before-close\":_vm.handleMapClose},on:{\"update:visible\":function($event){_vm.showMapDialog=$event}}},[_c('MapPicker',{attrs:{\"delivery-points\":_vm.deliveryPoints},on:{\"select\":_vm.handleMapSelect}})],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"map-picker\"},[_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"500px\"},attrs:{\"id\":\"map-container\"}}),_c('div',{staticClass:\"point-list\"},[_c('h3',[_vm._v(\"\")]),_c('el-radio-group',{staticStyle:{\"width\":\"100%\"},on:{\"change\":_vm.handlePointChange},model:{value:(_vm.selectedPointId),callback:function ($$v) {_vm.selectedPointId=$$v},expression:\"selectedPointId\"}},_vm._l((_vm.deliveryPoints),function(point){return _c('div',{key:point.id,staticClass:\"point-item\"},[_c('el-radio',{attrs:{\"label\":point.id}},[_c('div',{staticClass:\"point-info\"},[_c('div',{staticClass:\"point-name\"},[_vm._v(_vm._s(point.name))]),_c('div',{staticClass:\"point-address\"},[_vm._v(_vm._s(point.address))])])])],1)}),0),(_vm.deliveryPoints.length === 0)?_c('el-empty',{attrs:{\"description\":\"\"}}):_vm._e(),_c('el-button',{staticStyle:{\"margin-top\":\"20px\",\"width\":\"100%\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleConfirm}},[_vm._v(\"\")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"map-picker\">\r\n    <!--  -->\r\n    <div id=\"map-container\" style=\"width: 100%; height: 500px;\"></div>\r\n    \r\n    <!--  -->\r\n    <div class=\"point-list\">\r\n      <h3></h3>\r\n      <el-radio-group v-model=\"selectedPointId\" @change=\"handlePointChange\" style=\"width: 100%;\">\r\n        <div v-for=\"point in deliveryPoints\" :key=\"point.id\" class=\"point-item\">\r\n          <el-radio :label=\"point.id\">\r\n            <div class=\"point-info\">\r\n              <div class=\"point-name\">{{ point.name }}</div>\r\n              <div class=\"point-address\">{{ point.address }}</div>\r\n            </div>\r\n          </el-radio>\r\n        </div>\r\n      </el-radio-group>\r\n      <el-empty v-if=\"deliveryPoints.length === 0\" description=\"\"></el-empty>\r\n      <el-button type=\"primary\" @click=\"handleConfirm\" style=\"margin-top: 20px; width: 100%;\"></el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'MapPicker',\r\n  props: {\r\n    deliveryPoints: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      map: null,\r\n      markers: [],\r\n      defaultMarker: null,\r\n      selectedPointId: null,\r\n      selectedPoint: null,\r\n      amapKey: 'f4bd907075e26632db123ab93c643986'\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initMap()\r\n  },\r\n  watch: {\r\n    deliveryPoints: {\r\n      handler() {\r\n        this.updateMarkers()\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  methods: {\r\n    initMap() {\r\n      // \r\n      if (window.AMap) {\r\n        this.createMap()\r\n        return\r\n      }\r\n\r\n      //  API\r\n      const script = document.createElement('script')\r\n      //  Web  API key\r\n      // https://console.amap.com/dev/key/app\r\n      // \r\n      script.src = `https://webapi.amap.com/maps?v=1.4.15&key=${this.amapKey}&callback=initAMap`\r\n      script.async = true\r\n      script.defer = true\r\n      \r\n      window.initAMap = () => {\r\n        this.createMap()\r\n      }\r\n      \r\n      script.onerror = () => {\r\n        this.$message.error(' API Key ')\r\n        console.error('')\r\n        console.error('1. API Key ')\r\n        console.error('2.  https://console.amap.com/dev/key/app  key')\r\n        console.error('3. ')\r\n      }\r\n      \r\n      document.head.appendChild(script)\r\n    },\r\n    createMap() {\r\n      if (!window.AMap) {\r\n        console.error(' API ')\r\n        return\r\n      }\r\n\r\n      // \r\n      // 2\r\n      const fzuCenter = [119.200000, 26.050000]\r\n      \r\n      // \r\n      this.map = new AMap.Map('map-container', {\r\n        zoom: 15,\r\n        center: fzuCenter,\r\n        mapStyle: 'amap://styles/normal' // \r\n      })\r\n\r\n      // \r\n      this.addDefaultMarker(fzuCenter)\r\n\r\n      // \r\n      AMap.plugin('AMap.Geocoder', () => {\r\n        // \r\n        const geocoder = new AMap.Geocoder({\r\n          city: '' // \r\n        })\r\n\r\n        // \r\n        geocoder.getLocation('', (status, result) => {\r\n          if (status === 'complete' && result.geocodes && result.geocodes.length > 0) {\r\n            const location = result.geocodes[0].location\r\n            const accurateCenter = [location.lng, location.lat]\r\n            \r\n            console.log(':', accurateCenter)\r\n            \r\n            // \r\n            this.map.setCenter(accurateCenter)\r\n            this.map.setZoom(15)\r\n            \r\n            // \r\n            if (this.defaultMarker) {\r\n              this.defaultMarker.setPosition(accurateCenter)\r\n            } else {\r\n              this.addDefaultMarker(accurateCenter)\r\n            }\r\n          } else {\r\n            // \r\n            console.warn(':', fzuCenter)\r\n          }\r\n        })\r\n      })\r\n\r\n      this.updateMarkers()\r\n\r\n      // \r\n      this.map.on('click', (e) => {\r\n        const { lng, lat } = e.lnglat\r\n        console.log(':', lng, lat)\r\n        // \r\n      })\r\n    },\r\n    addDefaultMarker(position) {\r\n      if (this.defaultMarker) {\r\n        this.defaultMarker.setPosition(position)\r\n      } else {\r\n        this.defaultMarker = new AMap.Marker({\r\n          position: position,\r\n          title: '',\r\n          map: this.map\r\n        })\r\n\r\n        // \r\n        const infoWindow = new AMap.InfoWindow({\r\n          content: '<div style=\"padding: 10px;\"><b></b><br><span style=\"color: #666; font-size: 12px;\">2</span></div>'\r\n        })\r\n        \r\n        this.defaultMarker.on('click', () => {\r\n          infoWindow.open(this.map, position)\r\n        })\r\n      }\r\n    },\r\n    updateMarkers() {\r\n      if (!this.map || !window.AMap) return\r\n\r\n      // \r\n      this.map.remove(this.markers)\r\n      this.markers = []\r\n\r\n      // \r\n      if (this.deliveryPoints && this.deliveryPoints.length > 0) {\r\n        this.deliveryPoints.forEach(point => {\r\n          if (point.longitude && point.latitude) {\r\n            const marker = new AMap.Marker({\r\n              position: [point.longitude, point.latitude],\r\n              title: point.name,\r\n              map: this.map\r\n            })\r\n\r\n            // \r\n            const infoContent = `\r\n              <div style=\"padding: 10px;\">\r\n                <b>${point.name}</b><br>\r\n                <span style=\"color: #666; font-size: 12px;\">${point.address}</span>\r\n              </div>\r\n            `\r\n            const infoWindow = new AMap.InfoWindow({\r\n              content: infoContent\r\n            })\r\n\r\n            // \r\n            marker.on('click', () => {\r\n              this.selectedPointId = point.id\r\n              this.selectedPoint = point\r\n              infoWindow.open(this.map, [point.longitude, point.latitude])\r\n            })\r\n\r\n            this.markers.push(marker)\r\n          }\r\n        })\r\n\r\n        // \r\n        if (this.markers.length > 0) {\r\n          this.map.setFitView(this.markers, false, [50, 50, 50, 50])\r\n        }\r\n      }\r\n    },\r\n    handlePointChange(pointId) {\r\n      this.selectedPoint = this.deliveryPoints.find(p => p.id === pointId)\r\n      if (this.selectedPoint && this.map && this.selectedPoint.longitude && this.selectedPoint.latitude) {\r\n        // \r\n        this.map.setCenter([this.selectedPoint.longitude, this.selectedPoint.latitude])\r\n        this.map.setZoom(16)\r\n        \r\n        // \r\n        this.markers.forEach(marker => {\r\n          const point = this.deliveryPoints.find(p => \r\n            Math.abs(p.longitude - marker.getPosition().lng) < 0.0001 &&\r\n            Math.abs(p.latitude - marker.getPosition().lat) < 0.0001\r\n          )\r\n          if (point && point.id === pointId) {\r\n            // \r\n            marker.emit('click', { target: marker })\r\n          }\r\n        })\r\n      }\r\n    },\r\n    handleConfirm() {\r\n      if (!this.selectedPoint) {\r\n        this.$message.warning('')\r\n        return\r\n      }\r\n      this.$emit('select', this.selectedPoint)\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    if (this.map) {\r\n      this.map.destroy()\r\n      this.map = null\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.map-picker {\r\n  display: flex;\r\n  gap: 20px;\r\n  min-height: 500px;\r\n}\r\n\r\n#map-container {\r\n  flex: 1;\r\n  border: 1px solid #ddd;\r\n  border-radius: 8px;\r\n  z-index: 0;\r\n}\r\n\r\n.point-list {\r\n  width: 350px;\r\n  padding: 20px;\r\n  background: #f9f9f9;\r\n  border-radius: 8px;\r\n  max-height: 500px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.point-list h3 {\r\n  margin-bottom: 20px;\r\n  color: #333;\r\n  font-size: 18px;\r\n}\r\n\r\n.point-item {\r\n  margin: 15px 0;\r\n  padding: 15px;\r\n  background: #fff;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n  border: 2px solid transparent;\r\n}\r\n\r\n.point-item:hover {\r\n  background: #f0f7ff;\r\n  border-color: #409EFF;\r\n  transform: translateX(5px);\r\n}\r\n\r\n.point-info {\r\n  margin-left: 8px;\r\n}\r\n\r\n.point-name {\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  color: #333;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.point-address {\r\n  font-size: 13px;\r\n  color: #666;\r\n}\r\n\r\n/*  */\r\n.point-item .el-radio.is-checked .point-name {\r\n  color: #409EFF;\r\n}\r\n\r\n.point-item .el-radio.is-checked {\r\n  color: #409EFF;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MapPicker.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MapPicker.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./MapPicker.vue?vue&type=template&id=d1967152&scoped=true\"\nimport script from \"./MapPicker.vue?vue&type=script&lang=js\"\nexport * from \"./MapPicker.vue?vue&type=script&lang=js\"\nimport style0 from \"./MapPicker.vue?vue&type=style&index=0&id=d1967152&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d1967152\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <Layout>\r\n    <div class=\"product-publish-wrapper\">\r\n      <div class=\"product-publish\">\r\n        <el-card>\r\n          <div slot=\"header\">\r\n            <h2></h2>\r\n          </div>\r\n          <el-form :model=\"productForm\" :rules=\"rules\" ref=\"productForm\" label-width=\"120px\" style=\"max-width: 800px;\">\r\n            <el-form-item label=\"\" prop=\"title\">\r\n              <el-input v-model=\"productForm.title\" placeholder=\"\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"\" prop=\"category\">\r\n              <el-select v-model=\"productForm.category\" placeholder=\"\">\r\n                <el-option label=\"\" value=\"\"></el-option>\r\n                <el-option label=\"\" value=\"\"></el-option>\r\n                <el-option label=\"\" value=\"\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"\" prop=\"description\">\r\n              <el-input type=\"textarea\" :rows=\"5\" v-model=\"productForm.description\" placeholder=\"\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"\" prop=\"price\">\r\n              <el-input-number v-model=\"productForm.price\" :min=\"0\" :precision=\"2\" placeholder=\"\"></el-input-number>\r\n            </el-form-item>\r\n            <el-form-item label=\"\" prop=\"tradeType\">\r\n              <el-radio-group v-model=\"productForm.tradeType\">\r\n                <el-radio label=\"\"></el-radio>\r\n                <el-radio label=\"\"></el-radio>\r\n              </el-radio-group>\r\n            </el-form-item>\r\n            <el-form-item label=\"\" v-if=\"productForm.tradeType === ''\" prop=\"deliveryPointId\">\r\n              <el-button @click=\"showMapDialog = true\" type=\"primary\"></el-button>\r\n              <div v-if=\"selectedDeliveryPoint\" style=\"margin-top: 10px;\">\r\n                <el-tag>{{ selectedDeliveryPoint.name }} - {{ selectedDeliveryPoint.address }}</el-tag>\r\n              </div>\r\n            </el-form-item>\r\n            <el-form-item label=\"\">\r\n              <el-upload\r\n                action=\"/api/file/upload\"\r\n                list-type=\"picture-card\"\r\n                :file-list=\"fileList\"\r\n                :on-preview=\"handlePreview\"\r\n                :on-remove=\"handleRemove\"\r\n                :on-success=\"handleUploadSuccess\"\r\n                :on-error=\"handleUploadError\"\r\n                :before-upload=\"beforeUpload\"\r\n                :limit=\"5\">\r\n                <i class=\"el-icon-plus\"></i>\r\n              </el-upload>\r\n            </el-form-item>\r\n            <el-form-item>\r\n              <el-button type=\"primary\" @click=\"handleSubmit\"></el-button>\r\n              <el-button @click=\"$router.back()\"></el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n        </el-card>\r\n      </div>\r\n      \r\n      <!--  -->\r\n      <el-dialog title=\"\" :visible.sync=\"showMapDialog\" width=\"80%\" :before-close=\"handleMapClose\">\r\n        <MapPicker @select=\"handleMapSelect\" :delivery-points=\"deliveryPoints\"></MapPicker>\r\n      </el-dialog>\r\n    </div>\r\n  </Layout>\r\n</template>\r\n\r\n<script>\r\nimport Layout from '../components/Layout.vue'\r\nimport MapPicker from '../components/MapPicker.vue'\r\n\r\nexport default {\r\n  components: {\r\n    Layout,\r\n    MapPicker\r\n  },\r\n  name: 'ProductPublish',\r\n  data() {\r\n    return {\r\n      productForm: {\r\n        title: '',\r\n        category: '',\r\n        description: '',\r\n        price: 0,\r\n        tradeType: '',\r\n        deliveryPointId: null\r\n      },\r\n      rules: {\r\n        title: [{ required: true, message: '', trigger: 'blur' }],\r\n        category: [{ required: true, message: '', trigger: 'change' }],\r\n        description: [{ required: true, message: '', trigger: 'blur' }],\r\n        price: [{ required: true, message: '', trigger: 'blur' }],\r\n        tradeType: [{ required: true, message: '', trigger: 'change' }]\r\n      },\r\n      fileList: [],\r\n      showMapDialog: false,\r\n      selectedDeliveryPoint: null,\r\n      deliveryPoints: []\r\n    }\r\n  },\r\n  mounted() {\r\n    this.loadDeliveryPoints()\r\n    const user = JSON.parse(localStorage.getItem('user') || 'null')\r\n    if (!user) {\r\n      this.$message.warning('')\r\n      this.$router.push('/login')\r\n    }\r\n  },\r\n  methods: {\r\n    loadDeliveryPoints() {\r\n      this.$http.get('/delivery/list').then(res => {\r\n        if (res.success) {\r\n          this.deliveryPoints = res.data\r\n        }\r\n      })\r\n    },\r\n    handleMapSelect(point) {\r\n      this.selectedDeliveryPoint = point\r\n      this.productForm.deliveryPointId = point.id\r\n      this.showMapDialog = false\r\n    },\r\n    handleMapClose() {\r\n      this.showMapDialog = false\r\n    },\r\n    handlePreview(file) {\r\n      // \r\n      window.open(file.url || file.response?.url, '_blank')\r\n    },\r\n    handleRemove(file, fileList) {\r\n      this.fileList = fileList\r\n    },\r\n    beforeUpload(file) {\r\n      const isImage = file.type.startsWith('image/')\r\n      const isLt5M = file.size / 1024 / 1024 < 5\r\n\r\n      if (!isImage) {\r\n        this.$message.error('!')\r\n        return false\r\n      }\r\n      if (!isLt5M) {\r\n        this.$message.error(' 5MB!')\r\n        return false\r\n      }\r\n      return true\r\n    },\r\n    handleUploadSuccess(response, file, fileList) {\r\n      if (response.success) {\r\n        // URLblob URL\r\n        // Element UI  blob URL URL\r\n        let serverUrl = response.url\r\n        //  /uploads/ \r\n        if (serverUrl.startsWith('/uploads/') && process.env.NODE_ENV === 'development') {\r\n          serverUrl = 'http://47.108.59.70:8090' + serverUrl\r\n        }\r\n        this.fileList = fileList.map(f => {\r\n          if (f.uid === file.uid) {\r\n            return {\r\n              ...f,\r\n              url: serverUrl, // URLURL\r\n              response: response // URL\r\n            }\r\n          }\r\n          return f\r\n        })\r\n        this.$message.success('')\r\n      } else {\r\n        this.$message.error(response.message || '')\r\n        // \r\n        this.fileList = fileList.filter(f => f.uid !== file.uid)\r\n      }\r\n    },\r\n    handleUploadError(err, file, fileList) {\r\n      this.$message.error('' + (err.message || ''))\r\n      // \r\n      this.fileList = fileList.filter(f => f.uid !== file.uid)\r\n    },\r\n    handleSubmit() {\r\n      this.$refs.productForm.validate((valid) => {\r\n        if (valid) {\r\n          if (this.productForm.tradeType === '' && !this.productForm.deliveryPointId) {\r\n            this.$message.warning('')\r\n            return\r\n          }\r\n          const user = JSON.parse(localStorage.getItem('user') || 'null')\r\n          // URL\r\n          //  response.urlURL blob URL URL\r\n          const imageUrls = this.fileList\r\n            .map(f => {\r\n              // URL\r\n              const serverUrl = f.response?.url\r\n              if (serverUrl && !serverUrl.startsWith('blob:') && !serverUrl.startsWith('http://')) {\r\n                return serverUrl\r\n              }\r\n              //  response.url URL\r\n              if (serverUrl && serverUrl.startsWith('http://47.108.59.70:8090/uploads/')) {\r\n                return serverUrl.replace('http://47.108.59.70:8090', '')\r\n              }\r\n              //  file.url URL\r\n              const fileUrl = f.url\r\n              if (fileUrl && fileUrl.startsWith('http://47.108.59.70:8090/uploads/')) {\r\n                return fileUrl.replace('http://47.108.59.70:8090', '')\r\n              }\r\n              //  file.url  blob URL\r\n              if (fileUrl && !fileUrl.startsWith('blob:') && !fileUrl.startsWith('http://')) {\r\n                return fileUrl\r\n              }\r\n              return ''\r\n            })\r\n            .filter(url => url && url.trim() !== '')\r\n          \r\n          if (imageUrls.length === 0) {\r\n            this.$message.warning('')\r\n            return\r\n          }\r\n          \r\n          const formData = {\r\n            ...this.productForm,\r\n            userId: user.id,\r\n            images: JSON.stringify(imageUrls)\r\n          }\r\n          this.$http.post('/product/add', formData).then(res => {\r\n            if (res.success) {\r\n              this.$message.success('')\r\n              this.$router.push('/')\r\n            } else {\r\n              this.$message.error(res.message)\r\n            }\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.product-publish-wrapper {\r\n  width: 100%;\r\n}\r\n\r\n.product-publish {\r\n  width: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ProductPublish.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ProductPublish.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ProductPublish.vue?vue&type=template&id=0d2e506a&scoped=true\"\nimport script from \"./ProductPublish.vue?vue&type=script&lang=js\"\nexport * from \"./ProductPublish.vue?vue&type=script&lang=js\"\nimport style0 from \"./ProductPublish.vue?vue&type=style&index=0&id=0d2e506a&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0d2e506a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Layout',[_c('div',{staticClass:\"help-list\"},[_c('div',{staticClass:\"filter-banner\"},[_c('div',{staticClass:\"filter-container\"},[_c('div',{staticClass:\"filter-section\"},[_c('div',{staticClass:\"filter-title\"},[_c('i',{staticClass:\"el-icon-menu\"}),_c('span',[_vm._v(\"\")])]),_c('el-radio-group',{staticClass:\"category-buttons\",attrs:{\"size\":\"medium\"},on:{\"change\":_vm.loadHelps},model:{value:(_vm.selectedCategory),callback:function ($$v) {_vm.selectedCategory=$$v},expression:\"selectedCategory\"}},[_c('el-radio-button',{attrs:{\"label\":\"\"}},[_c('i',{staticClass:\"el-icon-s-grid\"}),_vm._v(\"  \")]),_c('el-radio-button',{attrs:{\"label\":\"\"}},[_c('i',{staticClass:\"el-icon-truck\"}),_vm._v(\"  \")]),_c('el-radio-button',{attrs:{\"label\":\"\"}},[_c('i',{staticClass:\"el-icon-box\"}),_vm._v(\"  \")]),_c('el-radio-button',{attrs:{\"label\":\"\"}},[_c('i',{staticClass:\"el-icon-shopping-cart-2\"}),_vm._v(\"  \")])],1)],1),(_vm.user)?_c('div',{staticClass:\"publish-section\"},[_c('el-button',{staticClass:\"publish-btn\",attrs:{\"type\":\"success\",\"icon\":\"el-icon-plus\",\"size\":\"medium\"},on:{\"click\":function($event){return _vm.$router.push('/help/publish')}}},[_vm._v(\"  \")])],1):_vm._e()])]),_c('div',{staticClass:\"helps-container\"},[_vm._l((_vm.helps),function(help){return _c('el-card',{key:help.id,staticClass:\"help-card\",attrs:{\"shadow\":\"hover\"}},[_c('div',{staticClass:\"help-item\"},[_c('div',{staticClass:\"help-header-info\"},[_c('h3',{staticClass:\"help-title\"},[_vm._v(_vm._s(help.title))]),_c('div',{staticClass:\"help-tags\"},[_c('el-tag',{attrs:{\"type\":\"info\"}},[_vm._v(_vm._s(help.category))]),_c('el-tag',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":help.status === 0 ? 'success' : 'info'}},[_vm._v(\" \"+_vm._s(help.status === 0 ? '' : help.status === 1 ? '' : '')+\" \")])],1)]),_c('p',{staticClass:\"description\"},[_vm._v(_vm._s(help.description))]),_c('div',{staticClass:\"help-footer\"},[_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.formatTime(help.createTime)))]),_c('el-button',{attrs:{\"size\":\"medium\",\"type\":\"primary\",\"icon\":\"el-icon-message\"},on:{\"click\":function($event){return _vm.startChat(help)}}},[_vm._v(\"\")])],1)])])}),(_vm.helps.length === 0)?_c('el-empty',{attrs:{\"description\":\"\"}}):_vm._e()],2)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <Layout>\r\n    <div class=\"help-list\">\r\n      <!--  -  -->\r\n      <div class=\"filter-banner\">\r\n        <div class=\"filter-container\">\r\n          <div class=\"filter-section\">\r\n            <div class=\"filter-title\">\r\n              <i class=\"el-icon-menu\"></i>\r\n              <span></span>\r\n            </div>\r\n            <el-radio-group v-model=\"selectedCategory\" @change=\"loadHelps\" size=\"medium\" class=\"category-buttons\">\r\n              <el-radio-button label=\"\">\r\n                <i class=\"el-icon-s-grid\"></i>\r\n                \r\n              </el-radio-button>\r\n              <el-radio-button label=\"\">\r\n                <i class=\"el-icon-truck\"></i>\r\n                \r\n              </el-radio-button>\r\n              <el-radio-button label=\"\">\r\n                <i class=\"el-icon-box\"></i>\r\n                \r\n              </el-radio-button>\r\n              <el-radio-button label=\"\">\r\n                <i class=\"el-icon-shopping-cart-2\"></i>\r\n                \r\n              </el-radio-button>\r\n            </el-radio-group>\r\n          </div>\r\n          <div class=\"publish-section\" v-if=\"user\">\r\n            <el-button \r\n              type=\"success\" \r\n              icon=\"el-icon-plus\" \r\n              size=\"medium\"\r\n              @click=\"$router.push('/help/publish')\"\r\n              class=\"publish-btn\">\r\n              \r\n            </el-button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!--  -->\r\n      <div class=\"helps-container\">\r\n        <el-card v-for=\"help in helps\" :key=\"help.id\" class=\"help-card\" shadow=\"hover\">\r\n          <div class=\"help-item\">\r\n            <div class=\"help-header-info\">\r\n              <h3 class=\"help-title\">{{ help.title }}</h3>\r\n              <div class=\"help-tags\">\r\n                <el-tag type=\"info\">{{ help.category }}</el-tag>\r\n                <el-tag :type=\"help.status === 0 ? 'success' : 'info'\" style=\"margin-left: 10px;\">\r\n                  {{ help.status === 0 ? '' : help.status === 1 ? '' : '' }}\r\n                </el-tag>\r\n              </div>\r\n            </div>\r\n            <p class=\"description\">{{ help.description }}</p>\r\n            <div class=\"help-footer\">\r\n              <span class=\"time\">{{ formatTime(help.createTime) }}</span>\r\n              <el-button size=\"medium\" type=\"primary\" icon=\"el-icon-message\" @click=\"startChat(help)\"></el-button>\r\n            </div>\r\n          </div>\r\n        </el-card>\r\n        <el-empty v-if=\"helps.length === 0\" description=\"\"></el-empty>\r\n      </div>\r\n    </div>\r\n  </Layout>\r\n</template>\r\n\r\n<script>\r\nimport Layout from '../components/Layout.vue'\r\n\r\nexport default {\r\n  components: {\r\n    Layout\r\n  },\r\n  name: 'HelpList',\r\n  data() {\r\n    return {\r\n      helps: [],\r\n      selectedCategory: '',\r\n      user: null\r\n    }\r\n  },\r\n  mounted() {\r\n    this.user = JSON.parse(localStorage.getItem('user') || 'null')\r\n    this.loadHelps()\r\n  },\r\n  methods: {\r\n    loadHelps() {\r\n      const params = this.selectedCategory ? { category: this.selectedCategory } : {}\r\n      this.$http.get('/help/list', { params }).then(res => {\r\n        if (res.success) {\r\n          this.helps = res.data\r\n        }\r\n      })\r\n    },\r\n    formatTime(time) {\r\n      if (!time) return ''\r\n      return new Date(time).toLocaleString('zh-CN')\r\n    },\r\n    startChat(help) {\r\n      const user = JSON.parse(localStorage.getItem('user') || 'null')\r\n      if (!user) {\r\n        this.$message.warning('')\r\n        this.$router.push('/login')\r\n        return\r\n      }\r\n      if (user.id === help.userId) {\r\n        this.$message.warning('')\r\n        return\r\n      }\r\n      this.$router.push(`/chat/${help.userId}?helpId=${help.id}`)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.help-list {\r\n  width: 100%;\r\n}\r\n\r\n.filter-banner {\r\n  background: linear-gradient(135deg, #67C23A 0%, #85ce61 100%);\r\n  border-radius: 8px;\r\n  padding: 30px;\r\n  margin-bottom: 30px;\r\n  box-shadow: 0 4px 12px rgba(0,0,0,0.15);\r\n}\r\n\r\n.filter-container {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  max-width: 100%;\r\n}\r\n\r\n.filter-section {\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 20px;\r\n}\r\n\r\n.filter-title {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  color: #fff;\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  white-space: nowrap;\r\n}\r\n\r\n.filter-title i {\r\n  font-size: 20px;\r\n}\r\n\r\n.category-buttons {\r\n  display: flex;\r\n  gap: 10px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.category-buttons .el-radio-button {\r\n  margin: 0;\r\n}\r\n\r\n.category-buttons .el-radio-button__inner {\r\n  padding: 12px 20px;\r\n  font-size: 14px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  border-radius: 4px;\r\n}\r\n\r\n.category-buttons .el-radio-button__inner i {\r\n  font-size: 16px;\r\n}\r\n\r\n.category-buttons .el-radio-button__orig-radio:checked + .el-radio-button__inner {\r\n  background-color: #fff;\r\n  color: #67C23A;\r\n  border-color: #fff;\r\n  box-shadow: 0 2px 8px rgba(0,0,0,0.2);\r\n}\r\n\r\n.publish-section {\r\n  margin-left: 20px;\r\n}\r\n\r\n.publish-btn {\r\n  padding: 12px 24px;\r\n  font-size: 16px;\r\n  height: auto;\r\n  box-shadow: 0 2px 8px rgba(0,0,0,0.2);\r\n}\r\n\r\n.helps-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 20px;\r\n}\r\n\r\n.help-card {\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.help-card:hover {\r\n  transform: translateY(-3px);\r\n  box-shadow: 0 4px 12px rgba(0,0,0,0.15);\r\n}\r\n\r\n.help-item {\r\n  padding: 10px 0;\r\n}\r\n\r\n.help-header-info {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.help-title {\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n  color: #333;\r\n  margin: 0;\r\n  flex: 1;\r\n}\r\n\r\n.help-tags {\r\n  display: flex;\r\n  gap: 8px;\r\n  align-items: center;\r\n}\r\n\r\n.description {\r\n  margin: 15px 0;\r\n  color: #666;\r\n  line-height: 1.8;\r\n  font-size: 14px;\r\n}\r\n\r\n.help-footer {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-top: 20px;\r\n  padding-top: 15px;\r\n  border-top: 1px solid #f0f0f0;\r\n}\r\n\r\n.time {\r\n  color: #999;\r\n  font-size: 13px;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HelpList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HelpList.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./HelpList.vue?vue&type=template&id=51bce0e6&scoped=true\"\nimport script from \"./HelpList.vue?vue&type=script&lang=js\"\nexport * from \"./HelpList.vue?vue&type=script&lang=js\"\nimport style0 from \"./HelpList.vue?vue&type=style&index=0&id=51bce0e6&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"51bce0e6\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Layout',[_c('div',{staticClass:\"help-publish\"},[_c('el-card',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('h2',[_vm._v(\"\")])]),_c('el-form',{ref:\"helpForm\",staticStyle:{\"max-width\":\"800px\"},attrs:{\"model\":_vm.helpForm,\"rules\":_vm.rules,\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"\",\"prop\":\"title\"}},[_c('el-input',{attrs:{\"placeholder\":\"\"},model:{value:(_vm.helpForm.title),callback:function ($$v) {_vm.$set(_vm.helpForm, \"title\", $$v)},expression:\"helpForm.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"\",\"prop\":\"category\"}},[_c('el-select',{attrs:{\"placeholder\":\"\"},model:{value:(_vm.helpForm.category),callback:function ($$v) {_vm.$set(_vm.helpForm, \"category\", $$v)},expression:\"helpForm.category\"}},[_c('el-option',{attrs:{\"label\":\"\",\"value\":\"\"}}),_c('el-option',{attrs:{\"label\":\"\",\"value\":\"\"}}),_c('el-option',{attrs:{\"label\":\"\",\"value\":\"\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"\",\"prop\":\"description\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":5,\"placeholder\":\"\"},model:{value:(_vm.helpForm.description),callback:function ($$v) {_vm.$set(_vm.helpForm, \"description\", $$v)},expression:\"helpForm.description\"}})],1),_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('el-upload',{attrs:{\"action\":\"/api/file/upload\",\"list-type\":\"picture-card\",\"file-list\":_vm.fileList,\"on-preview\":_vm.handlePreview,\"on-remove\":_vm.handleRemove,\"on-success\":_vm.handleUploadSuccess,\"on-error\":_vm.handleUploadError,\"before-upload\":_vm.beforeUpload,\"limit\":5}},[_c('i',{staticClass:\"el-icon-plus\"})])],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSubmit}},[_vm._v(\"\")]),_c('el-button',{on:{\"click\":function($event){return _vm.$router.back()}}},[_vm._v(\"\")])],1)],1)],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <Layout>\r\n    <div class=\"help-publish\">\r\n      <el-card>\r\n        <div slot=\"header\">\r\n          <h2></h2>\r\n        </div>\r\n        <el-form :model=\"helpForm\" :rules=\"rules\" ref=\"helpForm\" label-width=\"120px\" style=\"max-width: 800px;\">\r\n          <el-form-item label=\"\" prop=\"title\">\r\n            <el-input v-model=\"helpForm.title\" placeholder=\"\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"\" prop=\"category\">\r\n            <el-select v-model=\"helpForm.category\" placeholder=\"\">\r\n              <el-option label=\"\" value=\"\"></el-option>\r\n              <el-option label=\"\" value=\"\"></el-option>\r\n              <el-option label=\"\" value=\"\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"\" prop=\"description\">\r\n            <el-input type=\"textarea\" :rows=\"5\" v-model=\"helpForm.description\" placeholder=\"\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"\">\r\n            <el-upload\r\n              action=\"/api/file/upload\"\r\n              list-type=\"picture-card\"\r\n              :file-list=\"fileList\"\r\n              :on-preview=\"handlePreview\"\r\n              :on-remove=\"handleRemove\"\r\n              :on-success=\"handleUploadSuccess\"\r\n              :on-error=\"handleUploadError\"\r\n              :before-upload=\"beforeUpload\"\r\n              :limit=\"5\">\r\n              <i class=\"el-icon-plus\"></i>\r\n            </el-upload>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button type=\"primary\" @click=\"handleSubmit\"></el-button>\r\n            <el-button @click=\"$router.back()\"></el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </el-card>\r\n    </div>\r\n  </Layout>\r\n</template>\r\n\r\n<script>\r\nimport Layout from '../components/Layout.vue'\r\n\r\nexport default {\r\n  components: {\r\n    Layout\r\n  },\r\n  name: 'HelpPublish',\r\n  data() {\r\n    return {\r\n      helpForm: {\r\n        title: '',\r\n        category: '',\r\n        description: ''\r\n      },\r\n      rules: {\r\n        title: [{ required: true, message: '', trigger: 'blur' }],\r\n        category: [{ required: true, message: '', trigger: 'change' }],\r\n        description: [{ required: true, message: '', trigger: 'blur' }]\r\n      },\r\n      fileList: []\r\n    }\r\n  },\r\n  mounted() {\r\n    const user = JSON.parse(localStorage.getItem('user') || 'null')\r\n    if (!user) {\r\n      this.$message.warning('')\r\n      this.$router.push('/login')\r\n    }\r\n  },\r\n  methods: {\r\n    handlePreview(file) {\r\n      // \r\n      window.open(file.url || file.response?.url, '_blank')\r\n    },\r\n    handleRemove(file, fileList) {\r\n      this.fileList = fileList\r\n    },\r\n    beforeUpload(file) {\r\n      const isImage = file.type.startsWith('image/')\r\n      const isLt5M = file.size / 1024 / 1024 < 5\r\n\r\n      if (!isImage) {\r\n        this.$message.error('!')\r\n        return false\r\n      }\r\n      if (!isLt5M) {\r\n        this.$message.error(' 5MB!')\r\n        return false\r\n      }\r\n      return true\r\n    },\r\n    handleUploadSuccess(response, file, fileList) {\r\n      if (response.success) {\r\n        // URLblob URL\r\n        // Element UI  blob URL URL\r\n        let serverUrl = response.url\r\n        //  /uploads/ \r\n        if (serverUrl.startsWith('/uploads/') && process.env.NODE_ENV === 'development') {\r\n          serverUrl = 'http://47.108.59.70:8090' + serverUrl\r\n        }\r\n        this.fileList = fileList.map(f => {\r\n          if (f.uid === file.uid) {\r\n            return {\r\n              ...f,\r\n              url: serverUrl, // URLURL\r\n              response: response // URL\r\n            }\r\n          }\r\n          return f\r\n        })\r\n        this.$message.success('')\r\n      } else {\r\n        this.$message.error(response.message || '')\r\n        // \r\n        this.fileList = fileList.filter(f => f.uid !== file.uid)\r\n      }\r\n    },\r\n    handleUploadError(err, file, fileList) {\r\n      this.$message.error('' + (err.message || ''))\r\n      // \r\n      this.fileList = fileList.filter(f => f.uid !== file.uid)\r\n    },\r\n    handleSubmit() {\r\n      this.$refs.helpForm.validate((valid) => {\r\n        if (valid) {\r\n          const user = JSON.parse(localStorage.getItem('user') || 'null')\r\n          // URL\r\n          //  response.urlURL blob URL URL\r\n          const imageUrls = this.fileList\r\n            .map(f => {\r\n              // URL\r\n              const serverUrl = f.response?.url\r\n              if (serverUrl && !serverUrl.startsWith('blob:') && !serverUrl.startsWith('http://')) {\r\n                return serverUrl\r\n              }\r\n              //  response.url URL\r\n              if (serverUrl && serverUrl.startsWith('http://47.108.59.70:8090/uploads/')) {\r\n                return serverUrl.replace('http://47.108.59.70:8090', '')\r\n              }\r\n              //  file.url URL\r\n              const fileUrl = f.url\r\n              if (fileUrl && fileUrl.startsWith('http://47.108.59.70:8090/uploads/')) {\r\n                return fileUrl.replace('http://47.108.59.70:8090', '')\r\n              }\r\n              //  file.url  blob URL\r\n              if (fileUrl && !fileUrl.startsWith('blob:') && !fileUrl.startsWith('http://')) {\r\n                return fileUrl\r\n              }\r\n              return ''\r\n            })\r\n            .filter(url => url && url.trim() !== '')\r\n          \r\n          const formData = {\r\n            ...this.helpForm,\r\n            userId: user.id,\r\n            images: JSON.stringify(imageUrls)\r\n          }\r\n          this.$http.post('/help/add', formData).then(res => {\r\n            if (res.success) {\r\n              this.$message.success('')\r\n              this.$router.push('/helps')\r\n            } else {\r\n              this.$message.error(res.message)\r\n            }\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.help-publish {\r\n  min-height: 100vh;\r\n  background: #f5f5f5;\r\n}\r\n\r\n.el-header {\r\n  background: #fff;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0 20px;\r\n}\r\n\r\n.el-main {\r\n  padding: 20px;\r\n  background: #fff;\r\n  margin: 20px;\r\n  border-radius: 4px;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HelpPublish.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HelpPublish.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./HelpPublish.vue?vue&type=template&id=7320a4f0&scoped=true\"\nimport script from \"./HelpPublish.vue?vue&type=script&lang=js\"\nexport * from \"./HelpPublish.vue?vue&type=script&lang=js\"\nimport style0 from \"./HelpPublish.vue?vue&type=style&index=0&id=7320a4f0&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7320a4f0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Layout',[_c('div',{staticClass:\"chat-container\"},[_c('el-card',[_c('div',{staticClass:\"chat-header\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('el-button',{attrs:{\"icon\":\"el-icon-arrow-left\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.$router.push('/chats')}}},[_vm._v(\"\")]),_c('span',{staticClass:\"chat-title\"},[_vm._v(_vm._s(_vm.targetUser ? _vm.targetUser.realName : ''))])],1),_c('div',{staticClass:\"chat-main\"},[_c('div',{ref:\"messagesContainer\",staticClass:\"chat-messages\"},_vm._l((_vm.messages),function(message){return _c('div',{key:message.id,class:['message-item', message.fromUserId === _vm.currentUserId ? 'message-right' : 'message-left']},[_c('div',{staticClass:\"message-content\"},[_c('div',{staticClass:\"message-text\"},[_vm._v(_vm._s(message.content))]),_c('div',{staticClass:\"message-time\"},[_vm._v(_vm._s(_vm.formatTime(message.createTime)))])])])}),0),_c('div',{staticClass:\"chat-input\"},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":3,\"placeholder\":\"...\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;if(!$event.ctrlKey)return null;return _vm.sendMessage.apply(null, arguments)}},model:{value:(_vm.inputMessage),callback:function ($$v) {_vm.inputMessage=$$v},expression:\"inputMessage\"}}),_c('el-button',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.sendMessage}},[_vm._v(\"\")])],1)])])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <Layout>\r\n    <div class=\"chat-container\">\r\n      <el-card>\r\n        <div slot=\"header\" class=\"chat-header\">\r\n          <el-button @click=\"$router.push('/chats')\" icon=\"el-icon-arrow-left\" size=\"small\"></el-button>\r\n          <span class=\"chat-title\">{{ targetUser ? targetUser.realName : '' }}</span>\r\n        </div>\r\n        <div class=\"chat-main\">\r\n          <div class=\"chat-messages\" ref=\"messagesContainer\">\r\n            <div\r\n              v-for=\"message in messages\"\r\n              :key=\"message.id\"\r\n              :class=\"['message-item', message.fromUserId === currentUserId ? 'message-right' : 'message-left']\">\r\n              <div class=\"message-content\">\r\n                <div class=\"message-text\">{{ message.content }}</div>\r\n                <div class=\"message-time\">{{ formatTime(message.createTime) }}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"chat-input\">\r\n            <el-input\r\n              v-model=\"inputMessage\"\r\n              type=\"textarea\"\r\n              :rows=\"3\"\r\n              placeholder=\"...\"\r\n              @keyup.ctrl.enter.native=\"sendMessage\">\r\n            </el-input>\r\n            <el-button type=\"primary\" @click=\"sendMessage\" style=\"margin-top: 10px;\"></el-button>\r\n          </div>\r\n        </div>\r\n      </el-card>\r\n    </div>\r\n  </Layout>\r\n</template>\r\n\r\n<script>\r\nimport Layout from '../components/Layout.vue'\r\n\r\nexport default {\r\n  components: {\r\n    Layout\r\n  },\r\n  name: 'Chat',\r\n  data() {\r\n    return {\r\n      messages: [],\r\n      inputMessage: '',\r\n      targetUserId: null,\r\n      currentUserId: null,\r\n      targetUser: null,\r\n      productId: null,\r\n      helpId: null,\r\n      timer: null\r\n    }\r\n  },\r\n  mounted() {\r\n    const user = JSON.parse(localStorage.getItem('user') || 'null')\r\n    if (!user) {\r\n      this.$message.warning('')\r\n      this.$router.push('/login')\r\n      return\r\n    }\r\n    this.currentUserId = user.id\r\n    this.targetUserId = parseInt(this.$route.params.userId)\r\n    this.productId = this.$route.query.productId ? parseInt(this.$route.query.productId) : null\r\n    this.helpId = this.$route.query.helpId ? parseInt(this.$route.query.helpId) : null\r\n    \r\n    this.loadTargetUser()\r\n    this.loadMessages()\r\n    // 3\r\n    this.timer = setInterval(() => {\r\n      this.loadMessages()\r\n    }, 3000)\r\n  },\r\n  beforeDestroy() {\r\n    if (this.timer) {\r\n      clearInterval(this.timer)\r\n    }\r\n  },\r\n  methods: {\r\n    loadTargetUser() {\r\n      this.$http.get(`/user/${this.targetUserId}`).then(res => {\r\n        if (res.success) {\r\n          this.targetUser = res.data\r\n        }\r\n      })\r\n    },\r\n    loadMessages() {\r\n      this.$http.get('/chat/history', {\r\n        params: {\r\n          userId1: this.currentUserId,\r\n          userId2: this.targetUserId\r\n        }\r\n      }).then(res => {\r\n        if (res.success) {\r\n          const oldLength = this.messages.length\r\n          this.messages = res.data\r\n          // \r\n          if (this.messages.length > 0) {\r\n            this.$http.put('/chat/readAll', null, {\r\n              params: {\r\n                fromUserId: this.targetUserId,\r\n                toUserId: this.currentUserId\r\n              }\r\n            })\r\n          }\r\n          // \r\n          if (this.messages.length > oldLength) {\r\n            this.$nextTick(() => {\r\n              this.scrollToBottom()\r\n            })\r\n          }\r\n        }\r\n      })\r\n    },\r\n    sendMessage() {\r\n      if (!this.inputMessage.trim()) {\r\n        return\r\n      }\r\n      const message = {\r\n        fromUserId: this.currentUserId,\r\n        toUserId: this.targetUserId,\r\n        productId: this.productId,\r\n        helpId: this.helpId,\r\n        content: this.inputMessage.trim()\r\n      }\r\n      this.$http.post('/chat/send', message).then(res => {\r\n        if (res.success) {\r\n          this.inputMessage = ''\r\n          this.loadMessages()\r\n        } else {\r\n          this.$message.error(res.message)\r\n        }\r\n      })\r\n    },\r\n    formatTime(time) {\r\n      if (!time) return ''\r\n      const date = new Date(time)\r\n      const now = new Date()\r\n      const diff = now - date\r\n      if (diff < 60000) {\r\n        return ''\r\n      } else if (diff < 3600000) {\r\n        return Math.floor(diff / 60000) + ''\r\n      } else if (diff < 86400000) {\r\n        return Math.floor(diff / 3600000) + ''\r\n      } else {\r\n        return date.toLocaleString('zh-CN', { month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit' })\r\n      }\r\n    },\r\n    scrollToBottom() {\r\n      const container = this.$refs.messagesContainer\r\n      if (container) {\r\n        container.scrollTop = container.scrollHeight\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.chat-container {\r\n  width: 100%;\r\n}\r\n\r\n.chat-header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 15px;\r\n}\r\n\r\n.chat-title {\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n}\r\n\r\n.chat-main {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 600px;\r\n  overflow: hidden;\r\n}\r\n\r\n.chat-messages {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  padding: 20px;\r\n  background: #f5f5f5;\r\n}\r\n\r\n.message-item {\r\n  margin-bottom: 15px;\r\n  display: flex;\r\n}\r\n\r\n.message-right {\r\n  justify-content: flex-end;\r\n}\r\n\r\n.message-left {\r\n  justify-content: flex-start;\r\n}\r\n\r\n.message-content {\r\n  max-width: 60%;\r\n  padding: 10px 15px;\r\n  border-radius: 8px;\r\n  background: #fff;\r\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n}\r\n\r\n.message-right .message-content {\r\n  background: #409EFF;\r\n  color: #fff;\r\n}\r\n\r\n.message-text {\r\n  word-wrap: break-word;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.message-time {\r\n  font-size: 12px;\r\n  color: #999;\r\n  text-align: right;\r\n}\r\n\r\n.message-right .message-time {\r\n  color: rgba(255,255,255,0.7);\r\n}\r\n\r\n.chat-input {\r\n  padding: 15px;\r\n  background: #fff;\r\n  border-top: 1px solid #e4e7ed;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Chat.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Chat.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Chat.vue?vue&type=template&id=173b3df7&scoped=true\"\nimport script from \"./Chat.vue?vue&type=script&lang=js\"\nexport * from \"./Chat.vue?vue&type=script&lang=js\"\nimport style0 from \"./Chat.vue?vue&type=style&index=0&id=173b3df7&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"173b3df7\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Layout',[_c('div',{staticClass:\"chat-list-page\"},[_c('el-card',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"\")])]),(_vm.chatList.length === 0)?_c('div',{staticClass:\"empty-chats\"},[_c('el-empty',{attrs:{\"description\":\"\"}})],1):_c('div',_vm._l((_vm.chatList),function(chat){return _c('div',{key:chat.userId,staticClass:\"chat-item\",on:{\"click\":function($event){return _vm.openChat(chat.userId)}}},[_c('div',{staticClass:\"chat-avatar\"},[_c('i',{staticClass:\"el-icon-user-solid\"})]),_c('div',{staticClass:\"chat-info\"},[_c('div',{staticClass:\"chat-name\"},[_vm._v(_vm._s(chat.userName))]),_c('div',{staticClass:\"chat-preview\"},[_vm._v(_vm._s(chat.lastMessage))])]),_c('div',{staticClass:\"chat-meta\"},[_c('div',{staticClass:\"chat-time\"},[_vm._v(_vm._s(_vm.formatTime(chat.lastMessageTime)))]),(chat.unreadCount > 0)?_c('el-badge',{staticClass:\"unread-badge\",attrs:{\"value\":chat.unreadCount}}):_vm._e()],1)])}),0)])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <Layout>\r\n    <div class=\"chat-list-page\">\r\n      <el-card>\r\n        <div slot=\"header\">\r\n          <span></span>\r\n        </div>\r\n        <div v-if=\"chatList.length === 0\" class=\"empty-chats\">\r\n          <el-empty description=\"\"></el-empty>\r\n        </div>\r\n        <div v-else>\r\n          <div \r\n            v-for=\"chat in chatList\" \r\n            :key=\"chat.userId\"\r\n            class=\"chat-item\"\r\n            @click=\"openChat(chat.userId)\">\r\n            <div class=\"chat-avatar\">\r\n              <i class=\"el-icon-user-solid\"></i>\r\n            </div>\r\n            <div class=\"chat-info\">\r\n              <div class=\"chat-name\">{{ chat.userName }}</div>\r\n              <div class=\"chat-preview\">{{ chat.lastMessage }}</div>\r\n            </div>\r\n            <div class=\"chat-meta\">\r\n              <div class=\"chat-time\">{{ formatTime(chat.lastMessageTime) }}</div>\r\n              <el-badge v-if=\"chat.unreadCount > 0\" :value=\"chat.unreadCount\" class=\"unread-badge\"></el-badge>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </el-card>\r\n    </div>\r\n  </Layout>\r\n</template>\r\n\r\n<script>\r\nimport Layout from '../components/Layout.vue'\r\n\r\nexport default {\r\n  name: 'ChatList',\r\n  components: {\r\n    Layout\r\n  },\r\n  data() {\r\n    return {\r\n      chatList: [],\r\n      user: null,\r\n      timer: null\r\n    }\r\n  },\r\n  mounted() {\r\n    this.user = JSON.parse(localStorage.getItem('user') || 'null')\r\n    if (!this.user) {\r\n      this.$message.warning('')\r\n      this.$router.push('/login')\r\n      return\r\n    }\r\n    this.loadChatList()\r\n    // \r\n    this.timer = setInterval(() => {\r\n      this.loadChatList()\r\n    }, 5000)\r\n  },\r\n  beforeDestroy() {\r\n    if (this.timer) {\r\n      clearInterval(this.timer)\r\n    }\r\n  },\r\n  methods: {\r\n    loadChatList() {\r\n      // \r\n      this.$http.get(`/chat/unread/${this.user.id}`).then(res => {\r\n        if (res.success) {\r\n          const unreadMessages = res.data || []\r\n          // \r\n          const chatMap = new Map()\r\n          \r\n          unreadMessages.forEach(msg => {\r\n            const otherUserId = msg.fromUserId === this.user.id ? msg.toUserId : msg.fromUserId\r\n            if (!chatMap.has(otherUserId)) {\r\n              chatMap.set(otherUserId, {\r\n                userId: otherUserId,\r\n                userName: '' + otherUserId, // \r\n                unreadCount: 0,\r\n                lastMessage: '',\r\n                lastMessageTime: null\r\n              })\r\n            }\r\n            const chat = chatMap.get(otherUserId)\r\n            if (msg.toUserId === this.user.id && msg.isRead === 0) {\r\n              chat.unreadCount++\r\n            }\r\n            if (!chat.lastMessageTime || new Date(msg.createTime) > new Date(chat.lastMessageTime)) {\r\n              chat.lastMessage = msg.content\r\n              chat.lastMessageTime = msg.createTime\r\n            }\r\n          })\r\n          \r\n          // \r\n          this.$http.get(`/chat/all/${this.user.id}`).then(res2 => {\r\n            if (res2.success) {\r\n              // \r\n              res2.data.forEach(msg => {\r\n                const otherUserId = msg.fromUserId === this.user.id ? msg.toUserId : msg.fromUserId\r\n                if (!chatMap.has(otherUserId)) {\r\n                  chatMap.set(otherUserId, {\r\n                    userId: otherUserId,\r\n                    userName: '' + otherUserId,\r\n                    unreadCount: 0,\r\n                    lastMessage: msg.content,\r\n                    lastMessageTime: msg.createTime\r\n                  })\r\n                } else {\r\n                  const chat = chatMap.get(otherUserId)\r\n                  if (!chat.lastMessageTime || new Date(msg.createTime) > new Date(chat.lastMessageTime)) {\r\n                    chat.lastMessage = msg.content\r\n                    chat.lastMessageTime = msg.createTime\r\n                  }\r\n                }\r\n              })\r\n              \r\n              // \r\n              const userIds = Array.from(chatMap.keys())\r\n              const loadUserPromises = userIds.map(userId => {\r\n                return this.$http.get(`/user/${userId}`).then(userRes => {\r\n                  if (userRes.success) {\r\n                    const chat = chatMap.get(userId)\r\n                    if (chat) {\r\n                      chat.userName = userRes.data.realName\r\n                    }\r\n                  }\r\n                })\r\n              })\r\n              \r\n              Promise.all(loadUserPromises).then(() => {\r\n                this.chatList = Array.from(chatMap.values()).sort((a, b) => {\r\n                  const timeA = a.lastMessageTime ? new Date(a.lastMessageTime) : new Date(0)\r\n                  const timeB = b.lastMessageTime ? new Date(b.lastMessageTime) : new Date(0)\r\n                  return timeB - timeA\r\n                })\r\n              })\r\n            }\r\n          }).catch(() => {\r\n            // \r\n            this.chatList = Array.from(chatMap.values())\r\n          })\r\n        }\r\n      })\r\n    },\r\n    openChat(userId) {\r\n      this.$router.push(`/chat/${userId}`)\r\n    },\r\n    formatTime(time) {\r\n      if (!time) return ''\r\n      const date = new Date(time)\r\n      const now = new Date()\r\n      const diff = now - date\r\n      if (diff < 60000) {\r\n        return ''\r\n      } else if (diff < 3600000) {\r\n        return Math.floor(diff / 60000) + ''\r\n      } else if (diff < 86400000) {\r\n        return Math.floor(diff / 3600000) + ''\r\n      } else {\r\n        return date.toLocaleString('zh-CN', { month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit' })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.chat-list-page {\r\n  width: 100%;\r\n}\r\n\r\n.chat-item {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 15px;\r\n  border-bottom: 1px solid #f0f0f0;\r\n  cursor: pointer;\r\n  transition: background 0.3s;\r\n}\r\n\r\n.chat-item:hover {\r\n  background: #f5f5f5;\r\n}\r\n\r\n.chat-item:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.chat-avatar {\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 50%;\r\n  background: #409EFF;\r\n  color: #fff;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 24px;\r\n  margin-right: 15px;\r\n}\r\n\r\n.chat-info {\r\n  flex: 1;\r\n  min-width: 0;\r\n}\r\n\r\n.chat-name {\r\n  font-weight: bold;\r\n  font-size: 16px;\r\n  margin-bottom: 5px;\r\n  color: #333;\r\n}\r\n\r\n.chat-preview {\r\n  font-size: 14px;\r\n  color: #999;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n\r\n.chat-meta {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n  gap: 5px;\r\n}\r\n\r\n.chat-time {\r\n  font-size: 12px;\r\n  color: #999;\r\n}\r\n\r\n.empty-chats {\r\n  padding: 40px 0;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChatList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChatList.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ChatList.vue?vue&type=template&id=294e27df&scoped=true\"\nimport script from \"./ChatList.vue?vue&type=script&lang=js\"\nexport * from \"./ChatList.vue?vue&type=script&lang=js\"\nimport style0 from \"./ChatList.vue?vue&type=style&index=0&id=294e27df&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"294e27df\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Layout',[_c('div',{staticClass:\"user-center\"},[_c('el-card',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('h2',[_vm._v(\"\")])]),_c('el-tabs',[_c('el-tab-pane',{attrs:{\"label\":\"\"}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.myProducts}},[_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"\",\"width\":\"200\"}}),_c('el-table-column',{attrs:{\"prop\":\"category\",\"label\":\"\",\"width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"price\",\"label\":\"\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":scope.row.status === 0 ? 'success' : 'info'}},[_vm._v(\" \"+_vm._s(scope.row.status === 0 ? '' : scope.row.status === 1 ? '' : '')+\" \")])]}}])}),_c('el-table-column',{attrs:{\"label\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.editProduct(scope.row)}}},[_vm._v(\"\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.deleteProduct(scope.row.id)}}},[_vm._v(\"\")])]}}])})],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"\"}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.myHelps}},[_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"\",\"width\":\"200\"}}),_c('el-table-column',{attrs:{\"prop\":\"category\",\"label\":\"\",\"width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":scope.row.status === 0 ? 'success' : 'info'}},[_vm._v(\" \"+_vm._s(scope.row.status === 0 ? '' : scope.row.status === 1 ? '' : '')+\" \")])]}}])}),_c('el-table-column',{attrs:{\"label\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.editHelp(scope.row)}}},[_vm._v(\"\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.deleteHelp(scope.row.id)}}},[_vm._v(\"\")])]}}])})],1)],1)],1)],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <Layout>\r\n    <div class=\"user-center\">\r\n      <el-card>\r\n        <div slot=\"header\">\r\n          <h2></h2>\r\n        </div>\r\n        <el-tabs>\r\n          <el-tab-pane label=\"\">\r\n            <el-table :data=\"myProducts\" style=\"width: 100%\">\r\n              <el-table-column prop=\"title\" label=\"\" width=\"200\"></el-table-column>\r\n              <el-table-column prop=\"category\" label=\"\" width=\"120\"></el-table-column>\r\n              <el-table-column prop=\"price\" label=\"\" width=\"100\"></el-table-column>\r\n              <el-table-column prop=\"status\" label=\"\" width=\"100\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-tag :type=\"scope.row.status === 0 ? 'success' : 'info'\">\r\n                    {{ scope.row.status === 0 ? '' : scope.row.status === 1 ? '' : '' }}\r\n                  </el-tag>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column label=\"\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-button size=\"small\" @click=\"editProduct(scope.row)\"></el-button>\r\n                  <el-button size=\"small\" type=\"danger\" @click=\"deleteProduct(scope.row.id)\"></el-button>\r\n                </template>\r\n              </el-table-column>\r\n            </el-table>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"\">\r\n            <el-table :data=\"myHelps\" style=\"width: 100%\">\r\n              <el-table-column prop=\"title\" label=\"\" width=\"200\"></el-table-column>\r\n              <el-table-column prop=\"category\" label=\"\" width=\"120\"></el-table-column>\r\n              <el-table-column prop=\"status\" label=\"\" width=\"100\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-tag :type=\"scope.row.status === 0 ? 'success' : 'info'\">\r\n                    {{ scope.row.status === 0 ? '' : scope.row.status === 1 ? '' : '' }}\r\n                  </el-tag>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column label=\"\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-button size=\"small\" @click=\"editHelp(scope.row)\"></el-button>\r\n                  <el-button size=\"small\" type=\"danger\" @click=\"deleteHelp(scope.row.id)\"></el-button>\r\n                </template>\r\n              </el-table-column>\r\n            </el-table>\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </el-card>\r\n    </div>\r\n  </Layout>\r\n</template>\r\n\r\n<script>\r\nimport Layout from '../components/Layout.vue'\r\n\r\nexport default {\r\n  components: {\r\n    Layout\r\n  },\r\n  name: 'UserCenter',\r\n  data() {\r\n    return {\r\n      myProducts: [],\r\n      myHelps: []\r\n    }\r\n  },\r\n  mounted() {\r\n    const user = JSON.parse(localStorage.getItem('user') || 'null')\r\n    if (!user) {\r\n      this.$message.warning('')\r\n      this.$router.push('/login')\r\n      return\r\n    }\r\n    this.loadMyProducts(user.id)\r\n    this.loadMyHelps(user.id)\r\n  },\r\n  methods: {\r\n    loadMyProducts(userId) {\r\n      this.$http.get(`/product/user/${userId}`).then(res => {\r\n        if (res.success) {\r\n          this.myProducts = res.data\r\n        }\r\n      })\r\n    },\r\n    loadMyHelps(userId) {\r\n      this.$http.get(`/help/user/${userId}`).then(res => {\r\n        if (res.success) {\r\n          this.myHelps = res.data\r\n        }\r\n      })\r\n    },\r\n    editProduct(product) {\r\n      // \r\n      this.$message.info('')\r\n    },\r\n    deleteProduct(id) {\r\n      this.$confirm('', '', {\r\n        confirmButtonText: '',\r\n        cancelButtonText: '',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.$http.delete(`/product/${id}`).then(res => {\r\n          if (res.success) {\r\n            this.$message.success('')\r\n            const user = JSON.parse(localStorage.getItem('user') || 'null')\r\n            this.loadMyProducts(user.id)\r\n          }\r\n        })\r\n      })\r\n    },\r\n    editHelp(help) {\r\n      // \r\n      this.$message.info('')\r\n    },\r\n    deleteHelp(id) {\r\n      this.$confirm('', '', {\r\n        confirmButtonText: '',\r\n        cancelButtonText: '',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.$http.delete(`/help/${id}`).then(res => {\r\n          if (res.success) {\r\n            this.$message.success('')\r\n            const user = JSON.parse(localStorage.getItem('user') || 'null')\r\n            this.loadMyHelps(user.id)\r\n          }\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.user-center {\r\n  min-height: 100vh;\r\n  background: #f5f5f5;\r\n}\r\n\r\n.el-header {\r\n  background: #fff;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0 20px;\r\n}\r\n\r\n.el-main {\r\n  padding: 20px;\r\n  background: #fff;\r\n  margin: 20px;\r\n  border-radius: 4px;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserCenter.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserCenter.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./UserCenter.vue?vue&type=template&id=184b8fd6&scoped=true\"\nimport script from \"./UserCenter.vue?vue&type=script&lang=js\"\nexport * from \"./UserCenter.vue?vue&type=script&lang=js\"\nimport style0 from \"./UserCenter.vue?vue&type=style&index=0&id=184b8fd6&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"184b8fd6\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport Home from '../views/Home.vue'\r\nimport Login from '../views/Login.vue'\r\nimport Register from '../views/Register.vue'\r\nimport ProductList from '../views/ProductList.vue'\r\nimport ProductDetail from '../views/ProductDetail.vue'\r\nimport ProductPublish from '../views/ProductPublish.vue'\r\nimport HelpList from '../views/HelpList.vue'\r\nimport HelpPublish from '../views/HelpPublish.vue'\r\nimport Chat from '../views/Chat.vue'\r\nimport ChatList from '../views/ChatList.vue'\r\nimport UserCenter from '../views/UserCenter.vue'\r\n\r\nVue.use(VueRouter)\r\n\r\nconst routes = [\r\n  {\r\n    path: '/',\r\n    name: 'Home',\r\n    component: Home\r\n  },\r\n  {\r\n    path: '/login',\r\n    name: 'Login',\r\n    component: Login\r\n  },\r\n  {\r\n    path: '/register',\r\n    name: 'Register',\r\n    component: Register\r\n  },\r\n  {\r\n    path: '/products',\r\n    name: 'ProductList',\r\n    component: ProductList\r\n  },\r\n  {\r\n    path: '/product/publish',\r\n    name: 'ProductPublish',\r\n    component: ProductPublish,\r\n    meta: { requiresAuth: true }\r\n  },\r\n  {\r\n    path: '/product/:id',\r\n    name: 'ProductDetail',\r\n    component: ProductDetail\r\n  },\r\n  {\r\n    path: '/helps',\r\n    name: 'HelpList',\r\n    component: HelpList\r\n  },\r\n  {\r\n    path: '/help/publish',\r\n    name: 'HelpPublish',\r\n    component: HelpPublish,\r\n    meta: { requiresAuth: true }\r\n  },\r\n  {\r\n    path: '/chats',\r\n    name: 'ChatList',\r\n    component: ChatList,\r\n    meta: { requiresAuth: true }\r\n  },\r\n  {\r\n    path: '/chat/:userId',\r\n    name: 'Chat',\r\n    component: Chat,\r\n    meta: { requiresAuth: true }\r\n  },\r\n  {\r\n    path: '/user/center',\r\n    name: 'UserCenter',\r\n    component: UserCenter,\r\n    meta: { requiresAuth: true }\r\n  }\r\n]\r\n\r\nconst router = new VueRouter({\r\n  mode: 'history',\r\n  base: process.env.BASE_URL,\r\n  routes\r\n})\r\n\r\n// \r\nconst originalPush = VueRouter.prototype.push\r\nVueRouter.prototype.push = function push(location) {\r\n  return originalPush.call(this, location).catch(err => {\r\n    if (err.name !== 'NavigationDuplicated') {\r\n      return Promise.reject(err)\r\n    }\r\n  })\r\n}\r\n\r\n// \r\nrouter.beforeEach((to, from, next) => {\r\n  const user = JSON.parse(localStorage.getItem('user') || 'null')\r\n  if (to.meta.requiresAuth && !user) {\r\n    next('/login')\r\n  } else {\r\n    next()\r\n  }\r\n})\r\n\r\nexport default router\r\n\r\n","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport ElementUI from 'element-ui'\r\nimport 'element-ui/lib/theme-chalk/index.css'\r\nimport axios from 'axios'\r\n\r\nVue.config.productionTip = false\r\nVue.use(ElementUI)\r\n\r\n// axios\r\naxios.defaults.baseURL = '/api'\r\naxios.defaults.timeout = 10000\r\n\r\n// \r\naxios.interceptors.request.use(\r\n  config => {\r\n    const token = localStorage.getItem('token')\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`\r\n    }\r\n    return config\r\n  },\r\n  error => {\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n// \r\naxios.interceptors.response.use(\r\n  response => {\r\n    return response.data\r\n  },\r\n  error => {\r\n    if (error.response && error.response.status === 401) {\r\n      localStorage.removeItem('token')\r\n      localStorage.removeItem('user')\r\n      router.push('/login').catch(() => {})\r\n    }\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nVue.prototype.$http = axios\r\n\r\nnew Vue({\r\n  router,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunksecondhand_frontend\"] = self[\"webpackChunksecondhand_frontend\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], () => (__webpack_require__(2388)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","attrs","staticRenderFns","name","component","staticClass","_v","on","loadProducts","model","value","callback","$$v","selectedCategory","expression","$event","$router","push","_e","_l","product","key","id","nativeOn","getFirstImage","images","_s","title","price","category","tradeType","products","length","logoUrl","handleImageError","activeMenu","handleMenuSelect","user","handleCommand","realName","slot","_t","data","computed","path","$route","startsWith","includes","mounted","JSON","parse","localStorage","getItem","watch","methods","command","removeItem","$message","success","components","Layout","params","$http","get","then","res","imgArray","imgUrl","ref","loginForm","rules","$set","type","indexOf","_k","keyCode","handleLogin","apply","arguments","staticStyle","username","password","required","message","trigger","$refs","validate","valid","post","setItem","stringify","error","catch","err","registerForm","handleRegister","validateConfirmPassword","rule","Error","confirmPassword","studentId","phone","email","min","max","validator","pattern","formData","productImages","img","index","deliveryPoint","address","status","description","isOwner","contactSeller","userId","loadProduct","filter","trim","map","deliveryPointId","loadDeliveryPoint","warning","query","productId","productForm","showMapDialog","selectedDeliveryPoint","fileList","handlePreview","handleRemove","handleUploadSuccess","handleUploadError","beforeUpload","handleSubmit","back","handleMapClose","deliveryPoints","handleMapSelect","handlePointChange","selectedPointId","point","handleConfirm","props","Array","default","markers","defaultMarker","selectedPoint","amapKey","initMap","handler","updateMarkers","deep","window","AMap","createMap","script","document","createElement","src","async","defer","initAMap","onerror","console","head","appendChild","fzuCenter","Map","zoom","center","mapStyle","addDefaultMarker","plugin","geocoder","Geocoder","city","getLocation","result","geocodes","location","accurateCenter","lng","lat","log","setCenter","setZoom","setPosition","warn","e","lnglat","position","Marker","infoWindow","InfoWindow","content","open","remove","forEach","longitude","latitude","marker","infoContent","setFitView","pointId","find","p","Math","abs","getPosition","emit","target","$emit","beforeDestroy","destroy","MapPicker","loadDeliveryPoints","file","url","response","isImage","isLt5M","size","serverUrl","f","uid","imageUrls","replace","fileUrl","loadHelps","help","formatTime","createTime","startChat","helps","time","Date","toLocaleString","helpForm","targetUser","class","fromUserId","currentUserId","ctrlKey","sendMessage","inputMessage","messages","targetUserId","helpId","timer","parseInt","loadTargetUser","loadMessages","setInterval","clearInterval","userId1","userId2","oldLength","put","toUserId","$nextTick","scrollToBottom","date","now","diff","floor","month","day","hour","minute","container","messagesContainer","scrollTop","scrollHeight","chatList","chat","openChat","userName","lastMessage","lastMessageTime","unreadCount","loadChatList","unreadMessages","chatMap","msg","otherUserId","has","set","isRead","res2","userIds","from","keys","loadUserPromises","userRes","Promise","all","values","sort","a","b","timeA","timeB","myProducts","scopedSlots","_u","fn","scope","row","editProduct","deleteProduct","myHelps","editHelp","deleteHelp","loadMyProducts","loadMyHelps","info","$confirm","confirmButtonText","cancelButtonText","delete","use","routes","Home","Login","Register","ProductList","ProductPublish","meta","requiresAuth","ProductDetail","HelpList","HelpPublish","ChatList","Chat","UserCenter","router","mode","base","originalPush","prototype","call","reject","beforeEach","to","next","config","productionTip","baseURL","timeout","request","token","headers","Authorization","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","loaded","__webpack_modules__","m","amdO","deferred","O","chunkIds","priority","notFulfilled","Infinity","i","fulfilled","j","Object","every","splice","r","n","getter","__esModule","d","definition","o","defineProperty","enumerable","g","globalThis","Function","obj","prop","hasOwnProperty","Symbol","toStringTag","nmd","paths","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"ignoreList":[],"sourceRoot":""}